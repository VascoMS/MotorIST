2024-12-28T11:09:23.470Z  INFO 23824 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 23824 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T11:09:23.477Z  INFO 23824 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T11:09:24.294Z  INFO 23824 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T11:09:24.406Z  INFO 23824 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 97 ms. Found 2 JPA repository interfaces.
2024-12-28T11:09:24.874Z  INFO 23824 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T11:09:25.117Z  INFO 23824 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@6c15e8c7
2024-12-28T11:09:25.123Z  INFO 23824 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T11:09:25.271Z  INFO 23824 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T11:09:25.423Z  INFO 23824 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T11:09:25.494Z  INFO 23824 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T11:09:25.941Z  INFO 23824 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T11:09:26.043Z  INFO 23824 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T11:09:27.369Z  INFO 23824 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T11:09:27.443Z  INFO 23824 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T11:09:28.083Z  INFO 23824 --- [WebSocketConnectReadThread-48] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T11:09:28.154Z  INFO 23824 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 5.666 seconds (process running for 6.847)
2024-12-28T11:10:52.061Z  INFO 23824 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T11:10:52.064Z  INFO 23824 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T11:10:52.066Z  INFO 23824 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T11:10:52.067Z  INFO 23824 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T11:10:52.070Z  INFO 23824 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T11:10:52.071Z  INFO 23824 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T11:10:52.123Z  INFO 23824 --- [WebSocketConnectReadThread-48] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T11:10:52.123Z  INFO 23824 --- [WebSocketConnectReadThread-48] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735384252091",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T11:11:13.491Z  INFO 23824 --- [WebSocketConnectReadThread-48] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T11:11:13.491Z  INFO 23824 --- [WebSocketConnectReadThread-48] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "rt3ehiC5+GZOTyO5pigVxjh+eXQJuGA1LzhAhZ0XWU8\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"kJ8T7DJ-1Hs\",\n  \"timestamp\": 1735384272655\n}"
}
2024-12-28T11:11:13.493Z  INFO 23824 --- [WebSocketConnectReadThread-48] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T11:11:13.493Z  INFO 23824 --- [WebSocketConnectReadThread-48] s.c.service.MessageProcessorService      : Pairing code: rt3ehiC5+GZOTyO5pigVxjh+eXQJuGA1LzhAhZ0XWU8=
2024-12-28T11:11:13.494Z  INFO 23824 --- [WebSocketConnectReadThread-48] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T11:11:13.571Z  INFO 23824 --- [WebSocketConnectReadThread-48] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T11:11:13.572Z  INFO 23824 --- [WebSocketConnectReadThread-48] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T11:11:13.606Z  INFO 23824 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T11:11:13.607Z  INFO 23824 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T11:11:13.607Z  INFO 23824 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T11:11:13.607Z  INFO 23824 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T11:11:13.608Z  INFO 23824 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T11:11:13.766Z  INFO 23824 --- [WebSocketConnectReadThread-48] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T11:20:10.705Z  INFO 23824 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T11:20:10.705Z  INFO 23824 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T11:20:10.705Z  INFO 23824 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T11:20:10.706Z  INFO 23824 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T11:20:10.707Z  INFO 23824 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T11:20:10.707Z  INFO 23824 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T11:20:10.716Z  INFO 23824 --- [WebSocketConnectReadThread-48] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T11:20:10.716Z  INFO 23824 --- [WebSocketConnectReadThread-48] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735384810708",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T11:20:20.931Z  INFO 23824 --- [WebSocketConnectReadThread-48] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T11:20:20.932Z  INFO 23824 --- [WebSocketConnectReadThread-48] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "aQdw07l9pHL3LU4dE1WzdOMU7aFhg1mLsg0yjQbzi3Q\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"Ht-yWLA63SQ\",\n  \"timestamp\": 1735384820920\n}"
}
2024-12-28T11:20:20.933Z  INFO 23824 --- [WebSocketConnectReadThread-48] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T11:20:20.933Z  INFO 23824 --- [WebSocketConnectReadThread-48] s.c.service.MessageProcessorService      : Pairing code: aQdw07l9pHL3LU4dE1WzdOMU7aFhg1mLsg0yjQbzi3Q=
2024-12-28T11:20:20.933Z  INFO 23824 --- [WebSocketConnectReadThread-48] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T11:20:20.980Z  INFO 23824 --- [WebSocketConnectReadThread-48] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T11:20:20.981Z  INFO 23824 --- [WebSocketConnectReadThread-48] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T11:20:21.015Z  INFO 23824 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T11:20:21.016Z  INFO 23824 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T11:20:21.017Z  INFO 23824 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T11:20:21.017Z  INFO 23824 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T11:20:21.017Z  INFO 23824 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T11:20:21.038Z  INFO 23824 --- [WebSocketConnectReadThread-48] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T11:20:32.985Z  INFO 23824 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T11:20:32.986Z  WARN 23824 --- [WebSocketConnectReadThread-48] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T11:20:32.986Z  INFO 23824 --- [WebSocketConnectReadThread-48] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T11:20:32.993Z  INFO 23824 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T11:20:33.001Z  INFO 23824 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T11:21:32.630Z  INFO 14232 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 14232 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T11:21:32.634Z  INFO 14232 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T11:21:33.280Z  INFO 14232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T11:21:33.378Z  INFO 14232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 80 ms. Found 2 JPA repository interfaces.
2024-12-28T11:21:33.724Z  INFO 14232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T11:21:33.823Z  INFO 14232 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@76889e60
2024-12-28T11:21:33.825Z  INFO 14232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T11:21:33.944Z  INFO 14232 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T11:21:34.026Z  INFO 14232 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T11:21:34.071Z  INFO 14232 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T11:21:34.322Z  INFO 14232 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T11:21:34.395Z  INFO 14232 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T11:21:35.348Z  INFO 14232 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T11:21:35.410Z  INFO 14232 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T11:21:36.063Z  INFO 14232 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T11:21:36.129Z  INFO 14232 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.443 seconds (process running for 5.579)
2024-12-28T11:21:46.950Z  INFO 14232 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T11:21:46.952Z  INFO 14232 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T11:21:46.955Z  INFO 14232 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T11:21:46.955Z  INFO 14232 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T11:21:46.957Z  INFO 14232 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T11:21:46.957Z  INFO 14232 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T11:21:47.017Z  INFO 14232 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T11:21:47.017Z  INFO 14232 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735384906974",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T11:21:55.144Z  INFO 14232 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T11:21:55.144Z  INFO 14232 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "Q1AhZXS7jTTSJ1Dvnwe4Fg1EJjLNPOAeE5twueIlqao\u003d",
  "success": false,
  "nonce": "{\n  \"base64Random\": \"ofmn4qZu3qA\",\n  \"timestamp\": 1735384914349\n}"
}
2024-12-28T11:21:55.145Z  INFO 14232 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T11:21:55.145Z  INFO 14232 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Pair failed: Server code matches: true | User input matches: false
2024-12-28T11:46:27.549Z  INFO 14232 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T11:46:27.551Z  WARN 14232 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T11:46:27.552Z  INFO 14232 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T11:46:27.558Z  INFO 14232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T11:46:27.566Z  INFO 14232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T11:47:39.037Z  INFO 10316 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 10316 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T11:47:39.040Z  INFO 10316 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T11:47:39.758Z  INFO 10316 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T11:47:39.884Z  INFO 10316 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 103 ms. Found 2 JPA repository interfaces.
2024-12-28T11:47:40.358Z  INFO 10316 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T11:47:40.477Z  INFO 10316 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@39c385d6
2024-12-28T11:47:40.480Z  INFO 10316 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T11:47:40.654Z  INFO 10316 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T11:47:40.730Z  INFO 10316 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T11:47:40.773Z  INFO 10316 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T11:47:41.136Z  INFO 10316 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T11:47:41.227Z  INFO 10316 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T11:47:43.257Z  INFO 10316 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T11:47:43.367Z  INFO 10316 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T11:47:44.389Z  INFO 10316 --- [WebSocketConnectReadThread-47] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T11:47:44.528Z  INFO 10316 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 6.255 seconds (process running for 7.307)
2024-12-28T11:56:00.535Z  INFO 10316 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T11:56:00.536Z  INFO 10316 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T11:56:00.537Z  INFO 10316 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T11:56:00.537Z  INFO 10316 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T11:56:00.539Z  INFO 10316 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T11:56:00.540Z  INFO 10316 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T11:56:00.574Z  INFO 10316 --- [WebSocketConnectReadThread-47] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T11:56:00.574Z  INFO 10316 --- [WebSocketConnectReadThread-47] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735386960553",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T11:56:13.537Z  INFO 10316 --- [WebSocketConnectReadThread-47] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T11:56:13.537Z  INFO 10316 --- [WebSocketConnectReadThread-47] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "G/BYOw3pPU0MJtG1qTPgZjU9tax4cbBEraq/JGj4kr8\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"FHysYEi8b48\",\n  \"timestamp\": 1735386972931\n}"
}
2024-12-28T11:56:13.539Z  INFO 10316 --- [WebSocketConnectReadThread-47] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T11:56:13.539Z  INFO 10316 --- [WebSocketConnectReadThread-47] s.c.service.MessageProcessorService      : Pairing code: G/BYOw3pPU0MJtG1qTPgZjU9tax4cbBEraq/JGj4kr8=
2024-12-28T11:56:13.539Z  INFO 10316 --- [WebSocketConnectReadThread-47] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T11:56:13.581Z  INFO 10316 --- [WebSocketConnectReadThread-47] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T11:56:13.582Z  INFO 10316 --- [WebSocketConnectReadThread-47] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T11:56:13.606Z  INFO 10316 --- [WebSocketConnectReadThread-47] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T11:56:13.607Z  INFO 10316 --- [WebSocketConnectReadThread-47] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T11:56:13.607Z  INFO 10316 --- [WebSocketConnectReadThread-47] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T11:56:13.607Z  INFO 10316 --- [WebSocketConnectReadThread-47] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T11:56:13.607Z  INFO 10316 --- [WebSocketConnectReadThread-47] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T11:56:13.711Z  INFO 10316 --- [WebSocketConnectReadThread-47] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T11:59:52.133Z  INFO 10316 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T11:59:52.133Z  WARN 10316 --- [WebSocketConnectReadThread-47] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T11:59:52.133Z  INFO 10316 --- [WebSocketConnectReadThread-47] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T11:59:52.138Z  INFO 10316 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T11:59:52.142Z  INFO 10316 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T12:10:08.176Z  INFO 20640 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 20640 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T12:10:08.179Z  INFO 20640 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T12:10:08.889Z  INFO 20640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T12:10:08.986Z  INFO 20640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 2 JPA repository interfaces.
2024-12-28T12:10:09.682Z  INFO 20640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T12:10:09.817Z  INFO 20640 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@1835d3ed
2024-12-28T12:10:09.819Z  INFO 20640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T12:10:09.952Z  INFO 20640 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T12:10:10.056Z  INFO 20640 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T12:10:10.120Z  INFO 20640 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T12:10:10.615Z  INFO 20640 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T12:10:10.743Z  INFO 20640 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T12:10:11.838Z  INFO 20640 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T12:10:11.882Z  INFO 20640 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T12:10:12.473Z  INFO 20640 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T12:10:12.551Z  INFO 20640 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 5.142 seconds (process running for 6.029)
2024-12-28T12:10:32.176Z  INFO 20640 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T12:10:32.178Z  INFO 20640 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T12:10:32.180Z  INFO 20640 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T12:10:32.180Z  INFO 20640 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T12:10:32.183Z  INFO 20640 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T12:10:32.184Z  INFO 20640 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T12:10:32.227Z  INFO 20640 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T12:10:32.227Z  INFO 20640 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735387832196",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T12:10:40.386Z  INFO 20640 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T12:10:40.386Z  INFO 20640 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "X1mSBZjwFwN+YoaV3rDpVJe+Fixb6G8jot0mPmo67SY\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"fMGxilrnlrw\",\n  \"timestamp\": 1735387839878\n}"
}
2024-12-28T12:10:40.387Z  INFO 20640 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T12:10:40.387Z  INFO 20640 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Pairing code: X1mSBZjwFwN+YoaV3rDpVJe+Fixb6G8jot0mPmo67SY=
2024-12-28T12:10:40.387Z  INFO 20640 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T12:10:40.421Z  INFO 20640 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T12:10:40.422Z  INFO 20640 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T12:10:40.445Z  INFO 20640 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T12:10:40.445Z  INFO 20640 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T12:10:40.445Z  INFO 20640 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T12:10:40.446Z  INFO 20640 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T12:10:40.446Z  INFO 20640 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T12:10:40.541Z  INFO 20640 --- [WebSocketConnectReadThread-44] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T12:12:37.355Z  INFO 20640 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T12:12:37.355Z  WARN 20640 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T12:12:37.356Z  INFO 20640 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T12:12:37.360Z  INFO 20640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T12:12:37.363Z  INFO 20640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T12:13:21.327Z  INFO 26716 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 26716 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T12:13:21.334Z  INFO 26716 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T12:13:22.434Z  INFO 26716 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T12:13:22.588Z  INFO 26716 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 131 ms. Found 2 JPA repository interfaces.
2024-12-28T12:13:23.425Z  INFO 26716 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T12:13:23.667Z  INFO 26716 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@c35af2a
2024-12-28T12:13:23.672Z  INFO 26716 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T12:13:23.825Z  INFO 26716 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T12:13:23.938Z  INFO 26716 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T12:13:24.034Z  INFO 26716 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T12:13:24.566Z  INFO 26716 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T12:13:24.650Z  INFO 26716 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T12:13:26.282Z  INFO 26716 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T12:13:26.355Z  INFO 26716 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T12:13:27.359Z  INFO 26716 --- [WebSocketConnectReadThread-49] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T12:13:27.480Z  INFO 26716 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 7.494 seconds (process running for 8.515)
2024-12-28T12:13:44.953Z  INFO 26716 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T12:13:44.953Z  INFO 26716 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T12:13:44.955Z  INFO 26716 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T12:13:44.955Z  INFO 26716 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T12:13:44.959Z  INFO 26716 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T12:13:44.959Z  INFO 26716 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T12:13:45.005Z  INFO 26716 --- [WebSocketConnectReadThread-49] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T12:13:45.006Z  INFO 26716 --- [WebSocketConnectReadThread-49] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735388024974",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T12:13:51.092Z  INFO 26716 --- [WebSocketConnectReadThread-49] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T12:13:51.092Z  INFO 26716 --- [WebSocketConnectReadThread-49] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "EnCRLjJUvAF2McyP9Z2NGRQnKN7cHb51stfXJt07ULQ\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"cm7VnakimW8\",\n  \"timestamp\": 1735388030542\n}"
}
2024-12-28T12:13:51.093Z  INFO 26716 --- [WebSocketConnectReadThread-49] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T12:13:51.094Z  INFO 26716 --- [WebSocketConnectReadThread-49] s.c.service.MessageProcessorService      : Pairing code: EnCRLjJUvAF2McyP9Z2NGRQnKN7cHb51stfXJt07ULQ=
2024-12-28T12:13:51.094Z  INFO 26716 --- [WebSocketConnectReadThread-49] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T12:13:51.129Z  INFO 26716 --- [WebSocketConnectReadThread-49] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T12:13:51.129Z  INFO 26716 --- [WebSocketConnectReadThread-49] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T12:13:51.152Z  INFO 26716 --- [WebSocketConnectReadThread-49] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T12:13:51.153Z  INFO 26716 --- [WebSocketConnectReadThread-49] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T12:13:51.153Z  INFO 26716 --- [WebSocketConnectReadThread-49] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T12:13:51.153Z  INFO 26716 --- [WebSocketConnectReadThread-49] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T12:13:51.153Z  INFO 26716 --- [WebSocketConnectReadThread-49] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T12:13:51.241Z  INFO 26716 --- [WebSocketConnectReadThread-49] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T12:22:13.974Z  INFO 26716 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T12:22:13.974Z  WARN 26716 --- [WebSocketConnectReadThread-49] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T12:22:13.974Z  INFO 26716 --- [WebSocketConnectReadThread-49] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T12:22:13.980Z  INFO 26716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T12:22:13.983Z  INFO 26716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T12:22:57.992Z  INFO 17024 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 17024 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T12:22:57.995Z  INFO 17024 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T12:22:59.024Z  INFO 17024 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T12:22:59.169Z  INFO 17024 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 130 ms. Found 2 JPA repository interfaces.
2024-12-28T12:23:00.133Z  INFO 17024 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T12:23:00.273Z  INFO 17024 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@6cd56321
2024-12-28T12:23:00.281Z  INFO 17024 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T12:23:00.454Z  INFO 17024 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T12:23:00.537Z  INFO 17024 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T12:23:00.593Z  INFO 17024 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T12:23:01.067Z  INFO 17024 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T12:23:01.152Z  INFO 17024 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T12:23:02.400Z  INFO 17024 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T12:23:02.452Z  INFO 17024 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T12:23:03.057Z  INFO 17024 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T12:23:03.141Z  INFO 17024 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 5.919 seconds (process running for 6.838)
2024-12-28T12:23:16.539Z  INFO 17024 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T12:23:16.540Z  INFO 17024 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T12:23:16.541Z  INFO 17024 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T12:23:16.541Z  INFO 17024 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T12:23:16.545Z  INFO 17024 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T12:23:16.546Z  INFO 17024 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T12:23:16.593Z  INFO 17024 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T12:23:16.594Z  INFO 17024 --- [WebSocketConnectReadThread-46] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735388596558",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T12:23:23.257Z  INFO 17024 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T12:23:23.257Z  INFO 17024 --- [WebSocketConnectReadThread-46] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "Kgcxyedf5v6vgbPuw1b0RHkpMuXYF4xcJ/9FZ/D4/fU\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"SrDrK7BcQ-c\",\n  \"timestamp\": 1735388602741\n}"
}
2024-12-28T12:23:23.258Z  INFO 17024 --- [WebSocketConnectReadThread-46] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T12:23:23.259Z  INFO 17024 --- [WebSocketConnectReadThread-46] s.c.service.MessageProcessorService      : Pairing code: Kgcxyedf5v6vgbPuw1b0RHkpMuXYF4xcJ/9FZ/D4/fU=
2024-12-28T12:23:23.259Z  INFO 17024 --- [WebSocketConnectReadThread-46] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T12:23:23.293Z  INFO 17024 --- [WebSocketConnectReadThread-46] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T12:23:23.295Z  INFO 17024 --- [WebSocketConnectReadThread-46] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T12:23:23.319Z  INFO 17024 --- [WebSocketConnectReadThread-46] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T12:23:23.319Z  INFO 17024 --- [WebSocketConnectReadThread-46] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T12:23:23.319Z  INFO 17024 --- [WebSocketConnectReadThread-46] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T12:23:23.319Z  INFO 17024 --- [WebSocketConnectReadThread-46] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T12:23:23.319Z  INFO 17024 --- [WebSocketConnectReadThread-46] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T12:23:23.405Z  INFO 17024 --- [WebSocketConnectReadThread-46] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T12:45:38.983Z  INFO 17024 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T12:45:38.984Z  INFO 17024 --- [WebSocketConnectReadThread-46] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "updateconfig",
  "userId": "Diogo",
  "content": "4hxacKgCylKYcez562mtTxFeTYeBHHtemtF7y2y9yhOG/DWnNAy1dssiXy0LAqVQcNBgTDy0l1/hPBD1Tu8ynv/Mf57NJa1mCZzR0fTFvnVAduoKVgWKq3ksduTkE4ar",
  "iv": "p76qFlUXihii+zt1B8Y7zA\u003d\u003d",
  "nonce": "{\n  \"base64Random\": \"jFq6XU5tAHI\",\n  \"timestamp\": 1735389938580\n}",
  "hmac": "eEfaqZcpl9je0fOervfJaS1+N68X53liYgVlH9SgYIA\u003d",
  "reqId": "1735389938983"
}
2024-12-28T12:45:38.985Z ERROR 17024 --- [WebSocketConnectReadThread-46] org.java_websocket.drafts.Draft_6455     : Runtime exception during onWebsocketMessage

com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at path $.nonce
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:520) ~[gson-2.11.0.jar:na]
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$2.readIntoField(ReflectiveTypeAdapterFactory.java:267) ~[gson-2.11.0.jar:na]
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$FieldReflectionAdapter.readField(ReflectiveTypeAdapterFactory.java:558) ~[gson-2.11.0.jar:na]
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:516) ~[gson-2.11.0.jar:na]
	at com.google.gson.Gson.fromJson(Gson.java:1361) ~[gson-2.11.0.jar:na]
	at com.google.gson.Gson.fromJson(Gson.java:1463) ~[gson-2.11.0.jar:na]
	at com.google.gson.Gson.fromJson(Gson.java:1406) ~[gson-2.11.0.jar:na]
	at pt.tecnico.sirs.util.JSONUtil.parseJsonToClass(JSONUtil.java:57) ~[classes/:na]
	at sirs.carserver.service.MessageProcessorService.updateConfigOperation(MessageProcessorService.java:103) ~[classes/:na]
	at sirs.carserver.service.MessageProcessorService.processMessage(MessageProcessorService.java:57) ~[classes/:na]
	at sirs.carserver.config.CarWebSocketClient.onMessage(CarWebSocketClient.java:43) ~[classes/:na]
	at org.java_websocket.client.WebSocketClient.onWebsocketMessage(WebSocketClient.java:636) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.drafts.Draft_6455.processFrameText(Draft_6455.java:963) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.drafts.Draft_6455.processFrame(Draft_6455.java:887) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.WebSocketImpl.decodeFrames(WebSocketImpl.java:401) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.WebSocketImpl.decode(WebSocketImpl.java:233) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.client.WebSocketClient.run(WebSocketClient.java:516) ~[Java-WebSocket-1.5.2.jar:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at path $.nonce
	at com.google.gson.internal.bind.JsonTreeReader.expect(JsonTreeReader.java:179) ~[gson-2.11.0.jar:na]
	at com.google.gson.internal.bind.JsonTreeReader.beginObject(JsonTreeReader.java:96) ~[gson-2.11.0.jar:na]
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:509) ~[gson-2.11.0.jar:na]
	... 17 common frames omitted

2024-12-28T12:45:38.992Z ERROR 17024 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at path $.nonce
2024-12-28T12:45:38.992Z  INFO 17024 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T12:45:40.005Z  INFO 17024 --- [Timer-0] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T12:45:40.007Z  WARN 17024 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T12:45:40.007Z  INFO 17024 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Reconnecting in 2 seconds...
2024-12-28T12:45:40.014Z  INFO 17024 --- [WebSocketConnectReadThread-635] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T12:45:42.013Z  INFO 17024 --- [Timer-1] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T12:45:42.019Z  WARN 17024 --- [WebSocketConnectReadThread-635] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T12:45:42.020Z  INFO 17024 --- [WebSocketConnectReadThread-635] s.carserver.config.CarWebSocketClient    : Reconnecting in 3 seconds...
2024-12-28T12:45:42.027Z  INFO 17024 --- [WebSocketConnectReadThread-639] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T12:45:45.021Z  INFO 17024 --- [Timer-2] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T12:45:45.023Z  WARN 17024 --- [WebSocketConnectReadThread-639] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T12:45:45.023Z  INFO 17024 --- [WebSocketConnectReadThread-639] s.carserver.config.CarWebSocketClient    : Reconnecting in 4 seconds...
2024-12-28T12:45:45.041Z  INFO 17024 --- [WebSocketConnectReadThread-643] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T12:45:49.024Z  INFO 17024 --- [Timer-3] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T12:45:49.026Z  WARN 17024 --- [WebSocketConnectReadThread-643] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T12:45:49.026Z  INFO 17024 --- [WebSocketConnectReadThread-643] s.carserver.config.CarWebSocketClient    : Reconnecting in 5 seconds...
2024-12-28T12:45:49.030Z  INFO 17024 --- [WebSocketConnectReadThread-647] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T12:45:54.027Z  INFO 17024 --- [Timer-4] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T12:45:54.027Z  WARN 17024 --- [WebSocketConnectReadThread-647] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T12:45:54.027Z ERROR 17024 --- [WebSocketConnectReadThread-647] s.carserver.config.CarWebSocketClient    : Max reconnect attempts reached. Giving up.
2024-12-28T12:45:54.031Z  INFO 17024 --- [WebSocketConnectReadThread-650] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:04:05.826Z  WARN 17024 --- [WebSocketConnectReadThread-650] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T13:04:05.826Z  INFO 17024 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:04:05.826Z ERROR 17024 --- [WebSocketConnectReadThread-650] s.carserver.config.CarWebSocketClient    : Max reconnect attempts reached. Giving up.
2024-12-28T13:04:05.841Z  INFO 17024 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T13:04:05.847Z  INFO 17024 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T13:05:49.867Z  INFO 19856 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 19856 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T13:05:49.869Z  INFO 19856 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T13:05:50.635Z  INFO 19856 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T13:05:50.764Z  INFO 19856 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 111 ms. Found 2 JPA repository interfaces.
2024-12-28T13:05:51.431Z  INFO 19856 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T13:05:51.544Z  INFO 19856 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@2e807c54
2024-12-28T13:05:51.550Z  INFO 19856 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T13:05:51.728Z  INFO 19856 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T13:05:51.826Z  INFO 19856 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T13:05:51.888Z  INFO 19856 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T13:05:52.253Z  INFO 19856 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T13:05:52.358Z  INFO 19856 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T13:05:54.017Z  INFO 19856 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T13:05:54.074Z  INFO 19856 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:05:54.837Z  INFO 19856 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:05:54.998Z  INFO 19856 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 6.072 seconds (process running for 7.257)
2024-12-28T13:06:10.666Z  INFO 19856 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T13:06:10.666Z  INFO 19856 --- [WebSocketConnectReadThread-46] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "updateconfig",
  "userId": "Diogo",
  "content": "3dfA/zRoqSKzmjQ7zzJf8m6LwCv5O5aIv84d/o0+ubFgPJc6avTNfSYo5WtX7OGwdbGB8Vd30Q1CCd4VIKn+J1F/v772zd+3uPdn3T/N0xnymE/0czrSPGsYrhp1D6nK",
  "iv": "hhP3bnK7qp4VcN/t/o4BnQ\u003d\u003d",
  "nonce": {
    "base64Random": "OvEw0PLUIy8",
    "timestamp": 1735391170054
  },
  "hmac": "flTx34iJIycUAiFc2yQm4gTH6AcceuJt0Q7uzuPK97U\u003d",
  "reqId": "1735391170656"
}
2024-12-28T13:06:10.687Z  INFO 19856 --- [WebSocketConnectReadThread-46] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T13:06:10.859Z  INFO 19856 --- [WebSocketConnectReadThread-46] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-28T13:06:10.862Z  INFO 19856 --- [WebSocketConnectReadThread-46] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-28T13:06:10.862Z  INFO 19856 --- [WebSocketConnectReadThread-46] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: flTx34iJIycUAiFc2yQm4gTH6AcceuJt0Q7uzuPK97U=
2024-12-28T13:06:10.862Z  INFO 19856 --- [WebSocketConnectReadThread-46] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: flTx34iJIycUAiFc2yQm4gTH6AcceuJt0Q7uzuPK97U=
2024-12-28T13:06:10.862Z  INFO 19856 --- [WebSocketConnectReadThread-46] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-28T13:06:10.862Z  INFO 19856 --- [WebSocketConnectReadThread-46] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-28T13:06:10.874Z  INFO 19856 --- [WebSocketConnectReadThread-46] sirs.carserver.service.UserService       : Successfully updated the config
2024-12-28T13:06:10.874Z  INFO 19856 --- [WebSocketConnectReadThread-46] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T13:06:10.915Z  WARN 19856 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T13:06:10.915Z  INFO 19856 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T13:06:11.921Z  INFO 19856 --- [Timer-0] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T13:06:11.925Z  INFO 19856 --- [WebSocketConnectReadThread-85] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:10:36.675Z  INFO 19856 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:10:36.675Z  WARN 19856 --- [WebSocketConnectReadThread-85] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T13:10:36.675Z  INFO 19856 --- [WebSocketConnectReadThread-85] s.carserver.config.CarWebSocketClient    : Reconnecting in 2 seconds...
2024-12-28T13:10:36.681Z  INFO 19856 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T13:10:36.684Z  INFO 19856 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T13:11:12.065Z  INFO 27224 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 27224 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T13:11:12.070Z  INFO 27224 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T13:11:12.962Z  INFO 27224 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T13:11:13.067Z  INFO 27224 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 89 ms. Found 2 JPA repository interfaces.
2024-12-28T13:11:13.772Z  INFO 27224 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T13:11:13.976Z  INFO 27224 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@706fe5c6
2024-12-28T13:11:13.985Z  INFO 27224 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T13:11:14.161Z  INFO 27224 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T13:11:14.265Z  INFO 27224 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T13:11:14.324Z  INFO 27224 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T13:11:14.962Z  INFO 27224 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T13:11:15.128Z  INFO 27224 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T13:11:16.594Z  INFO 27224 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T13:11:16.652Z  INFO 27224 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:11:17.517Z  INFO 27224 --- [WebSocketConnectReadThread-47] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:11:17.663Z  INFO 27224 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 6.659 seconds (process running for 7.743)
2024-12-28T13:11:36.754Z  INFO 27224 --- [WebSocketConnectReadThread-47] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T13:11:36.755Z  INFO 27224 --- [WebSocketConnectReadThread-47] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "updateconfig",
  "userId": "Diogo",
  "content": "kMmKkxl5NWWjhlvIA9nvYWldAYKVPnD3R1NxyE5KBti1rojIrLSpH8A604H37M9mcOF2SSnagWtf4Mm/yb/5Fg4GlQF1G/CaYlxr0AY+OD8MUV+INdS16I1+k1pAt/oQ",
  "iv": "7m5LM1cibLoQOYJtCpq7SA\u003d\u003d",
  "nonce": {
    "base64Random": "6qludwE3KrI",
    "timestamp": 1735391495965
  },
  "hmac": "KDf0H3jy849YnRbDliTpgtctzckD+SIf0RQuWJJoi8E\u003d",
  "reqId": "1735391496739"
}
2024-12-28T13:11:36.775Z  INFO 27224 --- [WebSocketConnectReadThread-47] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T13:11:36.961Z  INFO 27224 --- [WebSocketConnectReadThread-47] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-28T13:11:36.964Z  INFO 27224 --- [WebSocketConnectReadThread-47] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-28T13:11:36.965Z  INFO 27224 --- [WebSocketConnectReadThread-47] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: KDf0H3jy849YnRbDliTpgtctzckD+SIf0RQuWJJoi8E=
2024-12-28T13:11:36.965Z  INFO 27224 --- [WebSocketConnectReadThread-47] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: KDf0H3jy849YnRbDliTpgtctzckD+SIf0RQuWJJoi8E=
2024-12-28T13:11:36.965Z  INFO 27224 --- [WebSocketConnectReadThread-47] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-28T13:11:36.965Z  INFO 27224 --- [WebSocketConnectReadThread-47] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-28T13:11:36.981Z  INFO 27224 --- [WebSocketConnectReadThread-47] sirs.carserver.service.UserService       : Successfully updated the config
2024-12-28T13:11:36.982Z  INFO 27224 --- [WebSocketConnectReadThread-47] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T13:15:22.706Z  INFO 27224 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:15:22.707Z  WARN 27224 --- [WebSocketConnectReadThread-47] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T13:15:22.707Z  INFO 27224 --- [WebSocketConnectReadThread-47] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T13:15:22.709Z  INFO 27224 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T13:15:22.714Z  INFO 27224 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T13:15:35.915Z  INFO 26136 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 26136 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T13:15:35.919Z  INFO 26136 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T13:15:36.970Z  INFO 26136 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T13:15:37.155Z  INFO 26136 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 158 ms. Found 2 JPA repository interfaces.
2024-12-28T13:15:38.009Z  INFO 26136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T13:15:38.210Z  INFO 26136 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@6629ad09
2024-12-28T13:15:38.217Z  INFO 26136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T13:15:38.387Z  INFO 26136 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T13:15:38.499Z  INFO 26136 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T13:15:38.578Z  INFO 26136 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T13:15:39.052Z  INFO 26136 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T13:15:39.142Z  INFO 26136 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T13:15:40.907Z  INFO 26136 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T13:15:41.017Z  INFO 26136 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:15:42.246Z  INFO 26136 --- [WebSocketConnectReadThread-49] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:15:42.434Z  INFO 26136 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 7.724 seconds (process running for 8.854)
2024-12-28T13:16:10.171Z  INFO 26136 --- [WebSocketConnectReadThread-49] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T13:16:10.171Z  INFO 26136 --- [WebSocketConnectReadThread-49] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "updateconfig",
  "userId": "Diogo",
  "content": "COTRnIQ/WsNbyms/QZLlvzmMeUeq8rWcJjJCVGkNf+qHS3gvIg82NJ7rz/lMXRkA5d51rq+w4ByKFlTH7vC1FWJX0FZHq4+nvJ4ndOT1n3SrJAePtUI+E0fkTpaayyR+",
  "iv": "nJKvVrb0zDStFK9ntagt4A\u003d\u003d",
  "nonce": {
    "base64Random": "bGAI0QkGq1M",
    "timestamp": 1735391769603
  },
  "hmac": "x6dqUXK+1mjUNDoLgQTX3uQKAptbmPmf4fEkgcqU+Kg\u003d",
  "reqId": "1735391770162"
}
2024-12-28T13:16:10.193Z  INFO 26136 --- [WebSocketConnectReadThread-49] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T13:16:10.375Z  INFO 26136 --- [WebSocketConnectReadThread-49] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-28T13:16:10.377Z  INFO 26136 --- [WebSocketConnectReadThread-49] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-28T13:16:10.378Z  INFO 26136 --- [WebSocketConnectReadThread-49] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: x6dqUXK+1mjUNDoLgQTX3uQKAptbmPmf4fEkgcqU+Kg=
2024-12-28T13:16:10.379Z  INFO 26136 --- [WebSocketConnectReadThread-49] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: x6dqUXK+1mjUNDoLgQTX3uQKAptbmPmf4fEkgcqU+Kg=
2024-12-28T13:16:10.379Z  INFO 26136 --- [WebSocketConnectReadThread-49] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-28T13:16:10.379Z  INFO 26136 --- [WebSocketConnectReadThread-49] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-28T13:16:10.393Z  INFO 26136 --- [WebSocketConnectReadThread-49] sirs.carserver.service.UserService       : Successfully updated the config
2024-12-28T13:16:10.394Z  INFO 26136 --- [WebSocketConnectReadThread-49] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T13:28:09.480Z  INFO 26136 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:28:09.480Z  WARN 26136 --- [WebSocketConnectReadThread-49] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T13:28:09.480Z  INFO 26136 --- [WebSocketConnectReadThread-49] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T13:28:09.485Z  INFO 26136 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T13:28:09.488Z  INFO 26136 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T13:28:29.501Z  INFO 24824 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 24824 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T13:28:29.505Z  INFO 24824 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T13:28:30.382Z  INFO 24824 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T13:28:30.493Z  INFO 24824 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 95 ms. Found 2 JPA repository interfaces.
2024-12-28T13:28:30.938Z  INFO 24824 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T13:28:31.039Z  INFO 24824 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@1835d3ed
2024-12-28T13:28:31.042Z  INFO 24824 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T13:28:31.181Z  INFO 24824 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T13:28:31.274Z  INFO 24824 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T13:28:31.325Z  INFO 24824 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T13:28:31.884Z  INFO 24824 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T13:28:32.019Z  INFO 24824 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T13:28:33.412Z  INFO 24824 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T13:28:33.457Z  INFO 24824 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:28:34.122Z  INFO 24824 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:28:34.230Z  INFO 24824 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 5.746 seconds (process running for 6.906)
2024-12-28T13:40:06.643Z  INFO 24824 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:40:06.644Z  WARN 24824 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T13:40:06.645Z  INFO 24824 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T13:40:06.649Z  INFO 24824 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T13:40:06.653Z  INFO 24824 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T13:40:26.363Z  INFO 14620 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 14620 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T13:40:26.370Z  INFO 14620 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T13:40:27.597Z  INFO 14620 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T13:40:27.765Z  INFO 14620 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 140 ms. Found 2 JPA repository interfaces.
2024-12-28T13:40:28.532Z  INFO 14620 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T13:40:28.804Z  INFO 14620 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@66213a0d
2024-12-28T13:40:28.812Z  INFO 14620 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T13:40:29.032Z  INFO 14620 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T13:40:29.191Z  INFO 14620 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T13:40:29.295Z  INFO 14620 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T13:40:29.939Z  INFO 14620 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T13:40:30.063Z  INFO 14620 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T13:40:31.520Z  INFO 14620 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T13:40:31.595Z  INFO 14620 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:40:32.510Z  INFO 14620 --- [WebSocketConnectReadThread-49] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:40:32.666Z  INFO 14620 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 7.558 seconds (process running for 8.867)
2024-12-28T13:40:45.984Z  INFO 14620 --- [WebSocketConnectReadThread-49] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T13:40:45.985Z  INFO 14620 --- [WebSocketConnectReadThread-49] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "deleteconfig",
  "userId": "Diogo",
  "content": "xGYkQpFZ8i3bOPYiWUwqvTfNeMdU/CqQ/mZtttBOFCE\u003d",
  "iv": "EfBvvakSFZIgLRRpJBkD4A\u003d\u003d",
  "nonce": "{\n  \"base64Random\": \"Ikei0556l4Q\",\n  \"timestamp\": 1735393245387\n}",
  "hmac": "2+7LBD89wcP70PVu0RdGNqpX3I5Hal0Z3hr3iMtrJSo\u003d",
  "reqId": "1735393245978"
}
2024-12-28T13:40:45.996Z ERROR 14620 --- [WebSocketConnectReadThread-49] org.java_websocket.drafts.Draft_6455     : Runtime exception during onWebsocketMessage

com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at path $.nonce
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:520) ~[gson-2.11.0.jar:na]
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$2.readIntoField(ReflectiveTypeAdapterFactory.java:267) ~[gson-2.11.0.jar:na]
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$FieldReflectionAdapter.readField(ReflectiveTypeAdapterFactory.java:558) ~[gson-2.11.0.jar:na]
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:516) ~[gson-2.11.0.jar:na]
	at com.google.gson.Gson.fromJson(Gson.java:1361) ~[gson-2.11.0.jar:na]
	at com.google.gson.Gson.fromJson(Gson.java:1463) ~[gson-2.11.0.jar:na]
	at com.google.gson.Gson.fromJson(Gson.java:1406) ~[gson-2.11.0.jar:na]
	at pt.tecnico.sirs.util.JSONUtil.parseJsonToClass(JSONUtil.java:57) ~[classes/:na]
	at sirs.carserver.service.MessageProcessorService.deleteConfigOperation(MessageProcessorService.java:113) ~[classes/:na]
	at sirs.carserver.service.MessageProcessorService.processMessage(MessageProcessorService.java:58) ~[classes/:na]
	at sirs.carserver.config.CarWebSocketClient.onMessage(CarWebSocketClient.java:43) ~[classes/:na]
	at org.java_websocket.client.WebSocketClient.onWebsocketMessage(WebSocketClient.java:636) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.drafts.Draft_6455.processFrameText(Draft_6455.java:963) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.drafts.Draft_6455.processFrame(Draft_6455.java:887) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.WebSocketImpl.decodeFrames(WebSocketImpl.java:401) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.WebSocketImpl.decode(WebSocketImpl.java:233) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.client.WebSocketClient.run(WebSocketClient.java:516) ~[Java-WebSocket-1.5.2.jar:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at path $.nonce
	at com.google.gson.internal.bind.JsonTreeReader.expect(JsonTreeReader.java:179) ~[gson-2.11.0.jar:na]
	at com.google.gson.internal.bind.JsonTreeReader.beginObject(JsonTreeReader.java:96) ~[gson-2.11.0.jar:na]
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:509) ~[gson-2.11.0.jar:na]
	... 17 common frames omitted

2024-12-28T13:40:46.000Z ERROR 14620 --- [WebSocketConnectReadThread-49] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at path $.nonce
2024-12-28T13:40:46.000Z  INFO 14620 --- [WebSocketConnectReadThread-49] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T13:40:47.000Z  INFO 14620 --- [Timer-0] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T13:40:47.004Z  WARN 14620 --- [WebSocketConnectReadThread-49] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T13:40:47.005Z  INFO 14620 --- [WebSocketConnectReadThread-49] s.carserver.config.CarWebSocketClient    : Reconnecting in 2 seconds...
2024-12-28T13:40:47.009Z  INFO 14620 --- [WebSocketConnectReadThread-84] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:40:49.007Z  INFO 14620 --- [Timer-1] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T13:40:49.008Z  WARN 14620 --- [WebSocketConnectReadThread-84] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T13:40:49.008Z  INFO 14620 --- [WebSocketConnectReadThread-84] s.carserver.config.CarWebSocketClient    : Reconnecting in 3 seconds...
2024-12-28T13:40:49.013Z  INFO 14620 --- [WebSocketConnectReadThread-92] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:40:52.008Z  INFO 14620 --- [Timer-2] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T13:40:52.010Z  WARN 14620 --- [WebSocketConnectReadThread-92] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T13:40:52.010Z  INFO 14620 --- [WebSocketConnectReadThread-92] s.carserver.config.CarWebSocketClient    : Reconnecting in 4 seconds...
2024-12-28T13:40:52.015Z  INFO 14620 --- [WebSocketConnectReadThread-102] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:40:56.015Z  INFO 14620 --- [Timer-3] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T13:40:56.016Z  WARN 14620 --- [WebSocketConnectReadThread-102] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T13:40:56.016Z  INFO 14620 --- [WebSocketConnectReadThread-102] s.carserver.config.CarWebSocketClient    : Reconnecting in 5 seconds...
2024-12-28T13:40:56.021Z  INFO 14620 --- [WebSocketConnectReadThread-113] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:41:01.017Z  INFO 14620 --- [Timer-4] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T13:41:01.018Z  WARN 14620 --- [WebSocketConnectReadThread-113] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T13:41:01.018Z ERROR 14620 --- [WebSocketConnectReadThread-113] s.carserver.config.CarWebSocketClient    : Max reconnect attempts reached. Giving up.
2024-12-28T13:41:01.026Z  INFO 14620 --- [WebSocketConnectReadThread-126] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:41:38.435Z  INFO 14620 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:41:38.435Z  WARN 14620 --- [WebSocketConnectReadThread-126] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T13:41:38.436Z ERROR 14620 --- [WebSocketConnectReadThread-126] s.carserver.config.CarWebSocketClient    : Max reconnect attempts reached. Giving up.
2024-12-28T13:41:38.439Z  INFO 14620 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T13:41:38.442Z  INFO 14620 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T13:41:57.062Z  INFO 7972 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 7972 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T13:41:57.067Z  INFO 7972 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T13:41:58.228Z  INFO 7972 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T13:41:58.428Z  INFO 7972 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 169 ms. Found 2 JPA repository interfaces.
2024-12-28T13:41:59.807Z  INFO 7972 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T13:42:00.068Z  INFO 7972 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@718dbd79
2024-12-28T13:42:00.073Z  INFO 7972 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T13:42:00.374Z  INFO 7972 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T13:42:00.681Z  INFO 7972 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T13:42:00.909Z  INFO 7972 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T13:42:01.746Z  INFO 7972 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T13:42:01.932Z  INFO 7972 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T13:42:03.913Z  INFO 7972 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T13:42:03.988Z  INFO 7972 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:42:04.970Z  INFO 7972 --- [WebSocketConnectReadThread-52] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:42:05.122Z  INFO 7972 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 9.203 seconds (process running for 10.559)
2024-12-28T13:42:17.719Z  INFO 7972 --- [WebSocketConnectReadThread-52] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T13:42:17.720Z  INFO 7972 --- [WebSocketConnectReadThread-52] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "deleteconfig",
  "userId": "Diogo",
  "content": "z43Cg0IKWa2Rc5pbQWBatuiv7AcvAsE4ndEuKWS09ug\u003d",
  "iv": "b4ME/MXAxlOMkEh6wLcsGQ\u003d\u003d",
  "nonce": {
    "base64Random": "lb9wjy3xkgY",
    "timestamp": 1735393336628
  },
  "hmac": "EiIgUVDhsj5GiHWHMtX3pkQNqBvKMcst9Sn+q9+IT0s\u003d",
  "reqId": "1735393337705"
}
2024-12-28T13:42:17.751Z  INFO 7972 --- [WebSocketConnectReadThread-52] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T13:42:17.793Z  INFO 7972 --- [WebSocketConnectReadThread-52] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-28T13:42:17.796Z  INFO 7972 --- [WebSocketConnectReadThread-52] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-28T13:42:17.797Z  INFO 7972 --- [WebSocketConnectReadThread-52] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: EiIgUVDhsj5GiHWHMtX3pkQNqBvKMcst9Sn+q9+IT0s=
2024-12-28T13:42:17.797Z  INFO 7972 --- [WebSocketConnectReadThread-52] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: EiIgUVDhsj5GiHWHMtX3pkQNqBvKMcst9Sn+q9+IT0s=
2024-12-28T13:42:17.797Z  INFO 7972 --- [WebSocketConnectReadThread-52] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-28T13:42:17.797Z  INFO 7972 --- [WebSocketConnectReadThread-52] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-28T13:42:17.913Z  INFO 7972 --- [WebSocketConnectReadThread-52] sirs.carserver.service.KeyStoreService   : Removed key for user: Diogo
2024-12-28T13:42:17.925Z  INFO 7972 --- [WebSocketConnectReadThread-52] sirs.carserver.service.UserService       : Successfully deleted user config
2024-12-28T13:42:17.925Z  INFO 7972 --- [WebSocketConnectReadThread-52] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T13:45:24.640Z  INFO 7972 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:45:24.642Z  WARN 7972 --- [WebSocketConnectReadThread-52] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T13:45:24.643Z  INFO 7972 --- [WebSocketConnectReadThread-52] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T13:45:24.646Z  INFO 7972 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T13:45:24.649Z  INFO 7972 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T13:45:45.465Z  INFO 8640 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 8640 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T13:45:45.469Z  INFO 8640 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T13:45:46.218Z  INFO 8640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T13:45:46.299Z  INFO 8640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 68 ms. Found 2 JPA repository interfaces.
2024-12-28T13:45:46.622Z  INFO 8640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T13:45:46.717Z  INFO 8640 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@64469d8
2024-12-28T13:45:46.720Z  INFO 8640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T13:45:46.825Z  INFO 8640 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T13:45:46.889Z  INFO 8640 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T13:45:46.923Z  INFO 8640 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T13:45:47.211Z  INFO 8640 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T13:45:47.302Z  INFO 8640 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T13:45:48.420Z  INFO 8640 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T13:45:48.469Z  INFO 8640 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:45:49.126Z  INFO 8640 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:45:49.224Z  INFO 8640 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.749 seconds (process running for 5.853)
2024-12-28T13:46:03.438Z  INFO 8640 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T13:46:03.438Z  INFO 8640 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "deleteconfig",
  "userId": "Diogo",
  "content": "/NfgWVwHd7DIJlrCvApTS/5I7Xv0td45wJXcI3PK00U\u003d",
  "iv": "yyJ9w7uAOnYk86ldjy4oqQ\u003d\u003d",
  "nonce": {
    "base64Random": "QvHQDC7riZk",
    "timestamp": 1735393562527
  },
  "hmac": "q7iMDW+EqHJ3VL/x+OAE02OclCkxEjGchUKaugKpUCQ\u003d",
  "reqId": "1735393563425"
}
2024-12-28T13:46:03.471Z  INFO 8640 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T13:46:03.472Z ERROR 8640 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Failed to get secret key from keystore.

java.lang.NullPointerException: Cannot invoke "java.security.Key.getEncoded()" because "key" is null
	at sirs.carserver.service.KeyStoreService.getSecretKeySpec(KeyStoreService.java:46) ~[classes/:na]
	at sirs.carserver.service.UserService.deleteConfig(UserService.java:94) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.0.jar:6.2.0]
	at sirs.carserver.service.UserService$$SpringCGLIB$$0.deleteConfig(<generated>) ~[classes/:na]
	at sirs.carserver.service.MessageProcessorService.deleteConfigOperation(MessageProcessorService.java:114) ~[classes/:na]
	at sirs.carserver.service.MessageProcessorService.processMessage(MessageProcessorService.java:58) ~[classes/:na]
	at sirs.carserver.config.CarWebSocketClient.onMessage(CarWebSocketClient.java:43) ~[classes/:na]
	at org.java_websocket.client.WebSocketClient.onWebsocketMessage(WebSocketClient.java:636) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.drafts.Draft_6455.processFrameText(Draft_6455.java:963) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.drafts.Draft_6455.processFrame(Draft_6455.java:887) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.WebSocketImpl.decodeFrames(WebSocketImpl.java:401) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.WebSocketImpl.decode(WebSocketImpl.java:233) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.client.WebSocketClient.run(WebSocketClient.java:516) ~[Java-WebSocket-1.5.2.jar:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-28T13:46:03.480Z ERROR 8640 --- [WebSocketConnectReadThread-44] sirs.carserver.service.UserService       : Secret Key not found for user: Diogo
2024-12-28T13:49:49.765Z  INFO 8640 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:49:49.766Z  WARN 8640 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T13:49:49.766Z  INFO 8640 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T13:49:49.769Z  INFO 8640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T13:49:49.773Z  INFO 8640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T13:50:03.448Z  INFO 14608 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 14608 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T13:50:03.452Z  INFO 14608 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T13:50:04.614Z  INFO 14608 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T13:50:04.832Z  INFO 14608 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 181 ms. Found 2 JPA repository interfaces.
2024-12-28T13:50:05.973Z  INFO 14608 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T13:50:06.289Z  INFO 14608 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@34acbc60
2024-12-28T13:50:06.312Z  INFO 14608 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T13:50:06.699Z  INFO 14608 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T13:50:06.884Z  INFO 14608 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T13:50:06.974Z  INFO 14608 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T13:50:07.718Z  INFO 14608 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T13:50:07.903Z  INFO 14608 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T13:50:11.147Z  INFO 14608 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T13:50:11.308Z  INFO 14608 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:50:13.512Z  INFO 14608 --- [WebSocketConnectReadThread-56] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:50:13.794Z  INFO 14608 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 11.645 seconds (process running for 12.782)
2024-12-28T13:50:29.058Z  INFO 14608 --- [WebSocketConnectReadThread-56] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T13:50:29.059Z  INFO 14608 --- [WebSocketConnectReadThread-56] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "deleteconfig",
  "userId": "Diogo",
  "content": "yq53FHqnr0QaXkZ2lD0IDFAih8lz0rlu8YCQ8pjk7TQ\u003d",
  "iv": "DztWX6IL7Lov6Cb51C4ILg\u003d\u003d",
  "nonce": {
    "base64Random": "5KiozCtvtyU",
    "timestamp": 1735393828277
  },
  "hmac": "frFSTzOUKeEONX8DvX96jStbEiVoCHLd2CoAcmSUScs\u003d",
  "reqId": "1735393829046"
}
2024-12-28T13:50:29.087Z  INFO 14608 --- [WebSocketConnectReadThread-56] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T13:50:29.087Z ERROR 14608 --- [WebSocketConnectReadThread-56] sirs.carserver.service.KeyStoreService   : Failed to get secret key from keystore: Cannot invoke "java.security.Key.getEncoded()" because "key" is null
2024-12-28T13:50:29.088Z ERROR 14608 --- [WebSocketConnectReadThread-56] sirs.carserver.service.UserService       : Secret Key not found for user: Diogo
2024-12-28T13:55:39.306Z  INFO 14608 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T13:55:39.306Z  INFO 14608 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T13:55:39.307Z  INFO 14608 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T13:55:39.307Z  INFO 14608 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T13:55:39.309Z  INFO 14608 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T13:55:39.309Z  INFO 14608 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T13:55:39.325Z  INFO 14608 --- [WebSocketConnectReadThread-56] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T13:55:39.325Z  INFO 14608 --- [WebSocketConnectReadThread-56] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735394139310",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T13:55:44.005Z  INFO 14608 --- [WebSocketConnectReadThread-56] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T13:55:44.005Z  INFO 14608 --- [WebSocketConnectReadThread-56] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "b5jzJ2cQsZ75a5AiWLS+aiRPyOeinf5TZaarquQIYcU\u003d",
  "success": false,
  "nonce": "{\n  \"base64Random\": \"dYW-IEAdQXw\",\n  \"timestamp\": 1735394143974\n}"
}
2024-12-28T13:55:44.006Z  INFO 14608 --- [WebSocketConnectReadThread-56] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T13:55:44.006Z  INFO 14608 --- [WebSocketConnectReadThread-56] s.c.service.MessageProcessorService      : Pair failed: Server code matches: true | User input matches: false
2024-12-28T13:56:14.724Z  INFO 14608 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T13:56:14.725Z  INFO 14608 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T13:56:14.726Z  INFO 14608 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T13:56:14.726Z  INFO 14608 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T13:56:14.726Z  INFO 14608 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T13:56:14.726Z  INFO 14608 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T13:56:14.730Z  INFO 14608 --- [WebSocketConnectReadThread-56] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T13:56:14.730Z  INFO 14608 --- [WebSocketConnectReadThread-56] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735394174726",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T13:56:20.983Z  INFO 14608 --- [WebSocketConnectReadThread-56] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T13:56:20.984Z  INFO 14608 --- [WebSocketConnectReadThread-56] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "1iUrpRsuL8V7wbsFiz1U6SHbtC7erPTovSpWhrPBnY4\u003d",
  "success": false,
  "nonce": "{\n  \"base64Random\": \"MMete-WMqds\",\n  \"timestamp\": 1735394180972\n}"
}
2024-12-28T13:56:20.984Z  INFO 14608 --- [WebSocketConnectReadThread-56] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T13:56:20.984Z  INFO 14608 --- [WebSocketConnectReadThread-56] s.c.service.MessageProcessorService      : Pair failed: Server code matches: true | User input matches: false
2024-12-28T13:57:47.369Z  INFO 14608 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:57:47.370Z  WARN 14608 --- [WebSocketConnectReadThread-56] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T13:57:47.371Z  INFO 14608 --- [WebSocketConnectReadThread-56] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T13:57:47.376Z  INFO 14608 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T13:57:47.382Z  INFO 14608 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T13:58:00.353Z  INFO 7476 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 7476 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T13:58:00.356Z  INFO 7476 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T13:58:01.462Z  INFO 7476 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T13:58:01.610Z  INFO 7476 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 121 ms. Found 2 JPA repository interfaces.
2024-12-28T13:58:02.159Z  INFO 7476 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T13:58:02.328Z  INFO 7476 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@4c18621b
2024-12-28T13:58:02.332Z  INFO 7476 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T13:58:02.615Z  INFO 7476 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T13:58:02.918Z  INFO 7476 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T13:58:03.021Z  INFO 7476 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T13:58:03.751Z  INFO 7476 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T13:58:03.964Z  INFO 7476 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T13:58:06.520Z  INFO 7476 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T13:58:06.582Z  INFO 7476 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T13:58:07.412Z  INFO 7476 --- [WebSocketConnectReadThread-51] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T13:58:07.525Z  INFO 7476 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 8.139 seconds (process running for 9.198)
2024-12-28T13:58:17.495Z  INFO 7476 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T13:58:17.496Z  INFO 7476 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T13:58:17.498Z  INFO 7476 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T13:58:17.498Z  INFO 7476 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T13:58:17.502Z  INFO 7476 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T13:58:17.502Z  INFO 7476 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T13:58:17.555Z  INFO 7476 --- [WebSocketConnectReadThread-51] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T13:58:17.555Z  INFO 7476 --- [WebSocketConnectReadThread-51] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735394297520",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T13:58:24.092Z  INFO 7476 --- [WebSocketConnectReadThread-51] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T13:58:24.092Z  INFO 7476 --- [WebSocketConnectReadThread-51] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "dOeY0dmg65HDaVbK1BzoZlSqMrWPtm4lUpL6orJ3TPE\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"KYl1d2QrkI4\",\n  \"timestamp\": 1735394302825\n}"
}
2024-12-28T13:58:24.094Z  INFO 7476 --- [WebSocketConnectReadThread-51] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T13:58:24.094Z  INFO 7476 --- [WebSocketConnectReadThread-51] s.c.service.MessageProcessorService      : Pairing code: dOeY0dmg65HDaVbK1BzoZlSqMrWPtm4lUpL6orJ3TPE=
2024-12-28T13:58:24.094Z  INFO 7476 --- [WebSocketConnectReadThread-51] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T13:58:24.147Z  INFO 7476 --- [WebSocketConnectReadThread-51] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T13:58:24.149Z  INFO 7476 --- [WebSocketConnectReadThread-51] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T13:58:24.183Z  INFO 7476 --- [WebSocketConnectReadThread-51] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T13:58:24.184Z  INFO 7476 --- [WebSocketConnectReadThread-51] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T13:58:24.185Z  INFO 7476 --- [WebSocketConnectReadThread-51] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T13:58:24.185Z  INFO 7476 --- [WebSocketConnectReadThread-51] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T13:58:24.185Z  INFO 7476 --- [WebSocketConnectReadThread-51] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T13:58:24.371Z  INFO 7476 --- [WebSocketConnectReadThread-51] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T13:58:55.543Z  INFO 7476 --- [WebSocketConnectReadThread-51] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T13:58:55.543Z  INFO 7476 --- [WebSocketConnectReadThread-51] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "deleteconfig",
  "userId": "Diogo",
  "content": "LcdsFKvdjRrdUaye3yuH4UyAW02XSulcPrrgk8pRJqw\u003d",
  "iv": "5RljtDd4EGiPH7dLcdbbkg\u003d\u003d",
  "nonce": {
    "base64Random": "ueVDfnb2tCQ",
    "timestamp": 1735394335487
  },
  "hmac": "HlaV3zWnZP5GJiPzhn+k8Hw0//oN3hVPLYG61LP/Xew\u003d",
  "reqId": "1735394335543"
}
2024-12-28T13:58:55.546Z  INFO 7476 --- [WebSocketConnectReadThread-51] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T13:58:55.574Z  INFO 7476 --- [WebSocketConnectReadThread-51] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-28T13:58:55.575Z  INFO 7476 --- [WebSocketConnectReadThread-51] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-28T13:58:55.576Z  INFO 7476 --- [WebSocketConnectReadThread-51] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: HlaV3zWnZP5GJiPzhn+k8Hw0//oN3hVPLYG61LP/Xew=
2024-12-28T13:58:55.577Z  INFO 7476 --- [WebSocketConnectReadThread-51] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: HlaV3zWnZP5GJiPzhn+k8Hw0//oN3hVPLYG61LP/Xew=
2024-12-28T13:58:55.577Z  INFO 7476 --- [WebSocketConnectReadThread-51] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-28T13:58:55.577Z  INFO 7476 --- [WebSocketConnectReadThread-51] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-28T13:58:55.594Z  INFO 7476 --- [WebSocketConnectReadThread-51] sirs.carserver.service.KeyStoreService   : Removed key for user: Diogo
2024-12-28T13:58:55.604Z  INFO 7476 --- [WebSocketConnectReadThread-51] sirs.carserver.service.UserService       : Successfully deleted user config
2024-12-28T13:58:55.605Z  INFO 7476 --- [WebSocketConnectReadThread-51] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T14:02:06.250Z  INFO 7476 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T14:02:06.251Z  WARN 7476 --- [WebSocketConnectReadThread-51] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T14:02:06.251Z  INFO 7476 --- [WebSocketConnectReadThread-51] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T14:02:06.270Z  INFO 7476 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T14:02:06.275Z  INFO 7476 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T14:02:45.807Z  INFO 16504 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 16504 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T14:02:45.811Z  INFO 16504 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T14:02:46.960Z  INFO 16504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T14:02:47.120Z  INFO 16504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 139 ms. Found 2 JPA repository interfaces.
2024-12-28T14:02:47.770Z  INFO 16504 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T14:02:47.993Z  INFO 16504 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@1cec219f
2024-12-28T14:02:48.006Z  INFO 16504 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T14:02:48.210Z  INFO 16504 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T14:02:48.370Z  INFO 16504 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T14:02:48.442Z  INFO 16504 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T14:02:48.964Z  INFO 16504 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T14:02:49.094Z  INFO 16504 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T14:02:50.418Z  INFO 16504 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T14:02:50.476Z  INFO 16504 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T14:02:51.122Z  INFO 16504 --- [WebSocketConnectReadThread-48] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T14:02:51.239Z  INFO 16504 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 6.774 seconds (process running for 7.964)
2024-12-28T14:03:03.641Z  INFO 16504 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T14:03:03.641Z  INFO 16504 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T14:03:03.642Z  INFO 16504 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T14:03:03.642Z  INFO 16504 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T14:03:03.645Z  INFO 16504 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T14:03:03.645Z  INFO 16504 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T14:03:03.696Z  INFO 16504 --- [WebSocketConnectReadThread-48] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T14:03:03.697Z  INFO 16504 --- [WebSocketConnectReadThread-48] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735394583661",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T14:03:08.886Z  INFO 16504 --- [WebSocketConnectReadThread-48] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T14:03:08.887Z  INFO 16504 --- [WebSocketConnectReadThread-48] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "8DY/nhBn+8xpqk3BBbRuyfTkMhXVsQB1UwxJpGxDmDQ\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"ExxMxc2fxHE\",\n  \"timestamp\": 1735394588314\n}"
}
2024-12-28T14:03:08.888Z  INFO 16504 --- [WebSocketConnectReadThread-48] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T14:03:08.889Z  INFO 16504 --- [WebSocketConnectReadThread-48] s.c.service.MessageProcessorService      : Pairing code: 8DY/nhBn+8xpqk3BBbRuyfTkMhXVsQB1UwxJpGxDmDQ=
2024-12-28T14:03:08.889Z  INFO 16504 --- [WebSocketConnectReadThread-48] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T14:03:08.926Z  INFO 16504 --- [WebSocketConnectReadThread-48] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T14:03:08.926Z  INFO 16504 --- [WebSocketConnectReadThread-48] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T14:03:08.949Z  INFO 16504 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T14:03:08.951Z  INFO 16504 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T14:03:08.951Z  INFO 16504 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T14:03:08.951Z  INFO 16504 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T14:03:08.951Z  INFO 16504 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T14:03:09.053Z  INFO 16504 --- [WebSocketConnectReadThread-48] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T14:03:22.828Z  INFO 16504 --- [WebSocketConnectReadThread-48] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T14:03:22.829Z  INFO 16504 --- [WebSocketConnectReadThread-48] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "deleteconfig",
  "userId": "Diogo",
  "content": "jWaDOIoB4WbVnHs01WZZuEn2NFwmexarhlRzif/WEck\u003d",
  "iv": "7bbBKDP5u9CKnO7Bzh57Ug\u003d\u003d",
  "nonce": {
    "base64Random": "Q1mDB8-RNvA",
    "timestamp": 1735394602785
  },
  "hmac": "0TJh0HGmBoE/vwIADirEYKH5AAzd5MlkOE+Zbj03Igs\u003d",
  "reqId": "1735394602828"
}
2024-12-28T14:03:22.830Z  INFO 16504 --- [WebSocketConnectReadThread-48] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T14:03:22.856Z  INFO 16504 --- [WebSocketConnectReadThread-48] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-28T14:03:22.856Z  INFO 16504 --- [WebSocketConnectReadThread-48] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-28T14:03:22.858Z  INFO 16504 --- [WebSocketConnectReadThread-48] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: 0TJh0HGmBoE/vwIADirEYKH5AAzd5MlkOE+Zbj03Igs=
2024-12-28T14:03:22.858Z  INFO 16504 --- [WebSocketConnectReadThread-48] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: 0TJh0HGmBoE/vwIADirEYKH5AAzd5MlkOE+Zbj03Igs=
2024-12-28T14:03:22.858Z  INFO 16504 --- [WebSocketConnectReadThread-48] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-28T14:03:22.858Z  INFO 16504 --- [WebSocketConnectReadThread-48] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-28T14:03:22.882Z  INFO 16504 --- [WebSocketConnectReadThread-48] sirs.carserver.service.KeyStoreService   : Removed key for user: Diogo
2024-12-28T14:03:22.891Z  INFO 16504 --- [WebSocketConnectReadThread-48] sirs.carserver.service.UserService       : Successfully deleted user config
2024-12-28T14:03:22.891Z  INFO 16504 --- [WebSocketConnectReadThread-48] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T14:03:38.422Z  INFO 16504 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T14:03:38.423Z  INFO 16504 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T14:03:38.423Z  INFO 16504 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T14:03:38.423Z  INFO 16504 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T14:03:38.423Z  INFO 16504 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T14:03:38.424Z  INFO 16504 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T14:03:38.428Z  INFO 16504 --- [WebSocketConnectReadThread-48] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T14:03:38.428Z  INFO 16504 --- [WebSocketConnectReadThread-48] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735394618424",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T14:03:43.166Z  INFO 16504 --- [WebSocketConnectReadThread-48] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T14:03:43.166Z  INFO 16504 --- [WebSocketConnectReadThread-48] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "BfOQyB41rARP923r0q/+WQQa8bNO369mC56hjSKNY14\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"d0hnEglwJqo\",\n  \"timestamp\": 1735394623132\n}"
}
2024-12-28T14:03:43.166Z  INFO 16504 --- [WebSocketConnectReadThread-48] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T14:03:43.167Z  INFO 16504 --- [WebSocketConnectReadThread-48] s.c.service.MessageProcessorService      : Pairing code: BfOQyB41rARP923r0q/+WQQa8bNO369mC56hjSKNY14=
2024-12-28T14:03:43.167Z  INFO 16504 --- [WebSocketConnectReadThread-48] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T14:03:43.205Z  INFO 16504 --- [WebSocketConnectReadThread-48] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T14:03:43.206Z  INFO 16504 --- [WebSocketConnectReadThread-48] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T14:03:43.234Z  INFO 16504 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T14:03:43.235Z  INFO 16504 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T14:03:43.235Z  INFO 16504 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T14:03:43.235Z  INFO 16504 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T14:03:43.235Z  INFO 16504 --- [WebSocketConnectReadThread-48] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T14:03:43.254Z  INFO 16504 --- [WebSocketConnectReadThread-48] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T14:05:21.964Z  INFO 16504 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T14:05:21.966Z  WARN 16504 --- [WebSocketConnectReadThread-48] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T14:05:21.967Z  INFO 16504 --- [WebSocketConnectReadThread-48] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T14:05:21.970Z  INFO 16504 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T14:05:21.972Z  INFO 16504 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T14:05:45.810Z  INFO 16336 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 16336 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T14:05:45.814Z  INFO 16336 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T14:05:46.940Z  INFO 16336 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T14:05:47.097Z  INFO 16336 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 137 ms. Found 2 JPA repository interfaces.
2024-12-28T14:05:47.972Z  INFO 16336 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T14:05:48.248Z  INFO 16336 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@706fe5c6
2024-12-28T14:05:48.253Z  INFO 16336 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T14:05:48.487Z  INFO 16336 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T14:05:48.631Z  INFO 16336 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T14:05:48.713Z  INFO 16336 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T14:05:49.693Z  INFO 16336 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T14:05:49.949Z  INFO 16336 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T14:05:52.344Z  INFO 16336 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T14:05:52.461Z  INFO 16336 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T14:05:54.157Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T14:05:55.234Z  INFO 16336 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 10.471 seconds (process running for 11.858)
2024-12-28T14:06:01.337Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T14:06:01.338Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "deleteconfig",
  "userId": "Diogo",
  "content": "9bblQlnzCIcSzRnTaRZxn1Ij+Y0dAzcm4T6OngUw2hE\u003d",
  "iv": "12qfrSFX0VDTn97Pubve9g\u003d\u003d",
  "nonce": {
    "base64Random": "UOIvQYhywYk",
    "timestamp": 1735394759780
  },
  "hmac": "GoPWKZtN+8eFgs2duA0M84cNRU309rkimBpWbzm7UiA\u003d",
  "reqId": "1735394761316"
}
2024-12-28T14:06:01.384Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T14:06:01.436Z  INFO 16336 --- [WebSocketConnectReadThread-53] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-28T14:06:01.441Z  INFO 16336 --- [WebSocketConnectReadThread-53] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-28T14:06:01.442Z  INFO 16336 --- [WebSocketConnectReadThread-53] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: GoPWKZtN+8eFgs2duA0M84cNRU309rkimBpWbzm7UiA=
2024-12-28T14:06:01.443Z  INFO 16336 --- [WebSocketConnectReadThread-53] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: GoPWKZtN+8eFgs2duA0M84cNRU309rkimBpWbzm7UiA=
2024-12-28T14:06:01.443Z  INFO 16336 --- [WebSocketConnectReadThread-53] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-28T14:06:01.443Z  INFO 16336 --- [WebSocketConnectReadThread-53] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-28T14:06:01.610Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.KeyStoreService   : Removed key for user: Diogo
2024-12-28T14:06:01.622Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.UserService       : Successfully deleted user config
2024-12-28T14:06:01.623Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T14:06:16.547Z  INFO 16336 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T14:06:16.548Z  INFO 16336 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T14:06:16.549Z  INFO 16336 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T14:06:16.549Z  INFO 16336 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T14:06:16.550Z  INFO 16336 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T14:06:16.550Z  INFO 16336 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T14:06:16.582Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T14:06:16.583Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735394776553",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T14:06:24.319Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T14:06:24.320Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "E5WwkjAnc/+IJc3x4pglHqv7ecTFTnWW/IAFi57CZcc\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"z7Q92BbeXJ4\",\n  \"timestamp\": 1735394784284\n}"
}
2024-12-28T14:06:24.320Z  INFO 16336 --- [WebSocketConnectReadThread-53] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T14:06:24.321Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.c.service.MessageProcessorService      : Pairing code: E5WwkjAnc/+IJc3x4pglHqv7ecTFTnWW/IAFi57CZcc=
2024-12-28T14:06:24.321Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T14:06:24.353Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T14:06:24.353Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T14:06:24.382Z  INFO 16336 --- [WebSocketConnectReadThread-53] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T14:06:24.383Z  INFO 16336 --- [WebSocketConnectReadThread-53] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T14:06:24.383Z  INFO 16336 --- [WebSocketConnectReadThread-53] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T14:06:24.383Z  INFO 16336 --- [WebSocketConnectReadThread-53] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T14:06:24.383Z  INFO 16336 --- [WebSocketConnectReadThread-53] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T14:06:24.402Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T14:06:41.455Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T14:06:41.455Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "deleteconfig",
  "userId": "Diogo",
  "content": "OtkEaQhQQm83iRsxatUL39PtYXoJroT2lVHbbFuZ33w\u003d",
  "iv": "WJxX9onWvPQmLPAnhUEleQ\u003d\u003d",
  "nonce": {
    "base64Random": "iLSobd0YH3Y",
    "timestamp": 1735394801448
  },
  "hmac": "/hQ/m8yVRx/24xsVaJzDmxJxjFsSku56cXgA0cWBplM\u003d",
  "reqId": "1735394801454"
}
2024-12-28T14:06:41.457Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T14:06:41.480Z  INFO 16336 --- [WebSocketConnectReadThread-53] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-28T14:06:41.480Z  INFO 16336 --- [WebSocketConnectReadThread-53] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-28T14:06:41.480Z  INFO 16336 --- [WebSocketConnectReadThread-53] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: /hQ/m8yVRx/24xsVaJzDmxJxjFsSku56cXgA0cWBplM=
2024-12-28T14:06:41.480Z  INFO 16336 --- [WebSocketConnectReadThread-53] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: /hQ/m8yVRx/24xsVaJzDmxJxjFsSku56cXgA0cWBplM=
2024-12-28T14:06:41.480Z  INFO 16336 --- [WebSocketConnectReadThread-53] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-28T14:06:41.480Z  INFO 16336 --- [WebSocketConnectReadThread-53] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-28T14:06:41.482Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.KeyStoreService   : Removed key for user: Diogo
2024-12-28T14:06:41.489Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.UserService       : Successfully deleted user config
2024-12-28T14:06:41.489Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T14:06:49.438Z  INFO 16336 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T14:06:49.439Z  INFO 16336 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T14:06:49.439Z  INFO 16336 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T14:06:49.439Z  INFO 16336 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T14:06:49.439Z  INFO 16336 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T14:06:49.439Z  INFO 16336 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T14:06:49.442Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T14:06:49.442Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735394809439",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T14:06:55.349Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T14:06:55.349Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "HlDElBjpTVGcX2d1HMkslDXcJwARsrDDl8MqWs3s9Sw\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"2T-kv2sAmTs\",\n  \"timestamp\": 1735394815331\n}"
}
2024-12-28T14:06:55.350Z  INFO 16336 --- [WebSocketConnectReadThread-53] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T14:06:55.350Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.c.service.MessageProcessorService      : Pairing code: HlDElBjpTVGcX2d1HMkslDXcJwARsrDDl8MqWs3s9Sw=
2024-12-28T14:06:55.350Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T14:06:55.379Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T14:06:55.379Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T14:06:55.402Z  INFO 16336 --- [WebSocketConnectReadThread-53] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T14:06:55.403Z  INFO 16336 --- [WebSocketConnectReadThread-53] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T14:06:55.403Z  INFO 16336 --- [WebSocketConnectReadThread-53] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T14:06:55.403Z  INFO 16336 --- [WebSocketConnectReadThread-53] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T14:06:55.403Z  INFO 16336 --- [WebSocketConnectReadThread-53] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T14:06:55.409Z  INFO 16336 --- [WebSocketConnectReadThread-53] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T14:11:56.865Z  INFO 16336 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T14:11:56.866Z  WARN 16336 --- [WebSocketConnectReadThread-53] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T14:11:56.866Z  INFO 16336 --- [WebSocketConnectReadThread-53] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T14:11:56.871Z  INFO 16336 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T14:11:56.873Z  INFO 16336 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T15:41:02.040Z  INFO 21892 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 21892 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T15:41:02.045Z  INFO 21892 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T15:41:03.104Z  INFO 21892 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T15:41:03.260Z  INFO 21892 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 136 ms. Found 2 JPA repository interfaces.
2024-12-28T15:41:03.887Z  INFO 21892 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T15:41:04.043Z  INFO 21892 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@20134094
2024-12-28T15:41:04.052Z  INFO 21892 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T15:41:04.307Z  INFO 21892 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T15:41:04.458Z  INFO 21892 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T15:41:04.513Z  INFO 21892 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T15:41:05.013Z  INFO 21892 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T15:41:05.174Z  INFO 21892 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T15:41:07.070Z  INFO 21892 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T15:41:07.140Z  INFO 21892 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T15:41:07.897Z  INFO 21892 --- [WebSocketConnectReadThread-47] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T15:41:07.967Z  INFO 21892 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 6.856 seconds (process running for 7.955)
2024-12-28T15:42:11.116Z  INFO 21892 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T15:42:11.119Z  INFO 21892 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T15:42:11.121Z  INFO 21892 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T15:42:11.122Z  INFO 21892 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T15:42:11.126Z  INFO 21892 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T15:42:11.128Z  INFO 21892 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T15:42:11.178Z  INFO 21892 --- [WebSocketConnectReadThread-47] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T15:42:11.179Z  INFO 21892 --- [WebSocketConnectReadThread-47] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735400531145",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T15:42:16.877Z  INFO 21892 --- [WebSocketConnectReadThread-47] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T15:42:16.877Z  INFO 21892 --- [WebSocketConnectReadThread-47] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "Xtc/yXsiaPcKDd3B3YNDhyvXVXzMyF2gsSg9Ed2Bcbk\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"Yzqg60UAwvM\",\n  \"timestamp\": 1735400535972\n}"
}
2024-12-28T15:42:16.878Z  INFO 21892 --- [WebSocketConnectReadThread-47] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T15:42:16.879Z  INFO 21892 --- [WebSocketConnectReadThread-47] s.c.service.MessageProcessorService      : Pairing code: Xtc/yXsiaPcKDd3B3YNDhyvXVXzMyF2gsSg9Ed2Bcbk=
2024-12-28T15:42:16.879Z  INFO 21892 --- [WebSocketConnectReadThread-47] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T15:42:16.939Z  INFO 21892 --- [WebSocketConnectReadThread-47] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T15:42:16.940Z  INFO 21892 --- [WebSocketConnectReadThread-47] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T15:42:16.976Z  INFO 21892 --- [WebSocketConnectReadThread-47] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T15:42:16.976Z  INFO 21892 --- [WebSocketConnectReadThread-47] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T15:42:16.976Z  INFO 21892 --- [WebSocketConnectReadThread-47] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T15:42:16.977Z  INFO 21892 --- [WebSocketConnectReadThread-47] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T15:42:16.977Z  INFO 21892 --- [WebSocketConnectReadThread-47] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T15:42:17.123Z  INFO 21892 --- [WebSocketConnectReadThread-47] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T16:17:33.391Z  WARN 21892 --- [WebSocketConnectReadThread-47] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T16:17:33.392Z  INFO 21892 --- [WebSocketConnectReadThread-47] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T16:17:33.390Z  INFO 21892 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T16:17:33.412Z  INFO 21892 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T16:17:33.420Z  INFO 21892 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T16:17:44.032Z  INFO 14036 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 14036 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T16:17:44.035Z  INFO 14036 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T16:17:44.753Z  INFO 14036 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T16:17:44.867Z  INFO 14036 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 2 JPA repository interfaces.
2024-12-28T16:17:45.316Z  INFO 14036 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T16:17:45.425Z  INFO 14036 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@34acbc60
2024-12-28T16:17:45.428Z  INFO 14036 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T16:17:45.569Z  INFO 14036 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T16:17:45.701Z  INFO 14036 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T16:17:45.754Z  INFO 14036 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T16:17:46.069Z  INFO 14036 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T16:17:46.146Z  INFO 14036 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T16:17:47.649Z  INFO 14036 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T16:17:47.714Z  INFO 14036 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T16:17:48.470Z  INFO 14036 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T16:17:48.609Z  INFO 14036 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 5.353 seconds (process running for 6.229)
2024-12-28T16:19:55.613Z  INFO 14036 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T16:19:55.619Z  WARN 14036 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T16:19:55.622Z  INFO 14036 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T16:19:55.626Z  INFO 14036 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T16:19:55.633Z  INFO 14036 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T16:20:09.636Z  INFO 26416 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 26416 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T16:20:09.640Z  INFO 26416 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T16:20:10.428Z  INFO 26416 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T16:20:10.556Z  INFO 26416 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 109 ms. Found 2 JPA repository interfaces.
2024-12-28T16:20:11.016Z  INFO 26416 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T16:20:11.142Z  INFO 26416 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@12c60152
2024-12-28T16:20:11.146Z  INFO 26416 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T16:20:11.423Z  INFO 26416 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T16:20:11.501Z  INFO 26416 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T16:20:11.545Z  INFO 26416 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T16:20:11.889Z  INFO 26416 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T16:20:11.964Z  INFO 26416 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T16:20:13.552Z  INFO 26416 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T16:20:13.628Z  INFO 26416 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T16:20:14.415Z  INFO 26416 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T16:20:14.536Z  INFO 26416 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 5.593 seconds (process running for 6.578)
2024-12-28T16:21:48.196Z  INFO 26416 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T16:21:48.196Z  INFO 26416 --- [WebSocketConnectReadThread-45] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "updateconfig",
  "userId": "Diogo",
  "content": "ez0X8yRDvlCSN6UceUcNRl07eoN25jpJNJvAiLTE+mGGZoTUPKytICJGXn4SAkOUHMpX3TkpwSYMBGLzdj2Z/XM0JxNd1e3WeHtU8GRLrAs7ejAMICCriReBnmCr8fFL",
  "iv": "X8pttziZcpdDL+iTwl8gDg\u003d\u003d",
  "nonce": {
    "base64Random": "VWkseDYXSGM",
    "timestamp": 1735402908171
  },
  "hmac": "eXquaw4K/plDyLcnD4lhxrJuKk1t+4yMTpegbEY+0jI\u003d",
  "reqId": "1735402908188"
}
2024-12-28T16:21:48.221Z  INFO 26416 --- [WebSocketConnectReadThread-45] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T16:21:48.482Z  INFO 26416 --- [WebSocketConnectReadThread-45] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-28T16:21:48.484Z ERROR 26416 --- [WebSocketConnectReadThread-45] pt.tecnico.sirs.secdoc.Unprotect         : Failed to decipher content: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
2024-12-28T16:21:48.488Z ERROR 26416 --- [WebSocketConnectReadThread-45] org.java_websocket.drafts.Draft_6455     : Runtime exception during onWebsocketMessage

java.lang.NullPointerException: Cannot invoke "pt.tecnico.sirs.model.ProtectedObject.getContent()" because "protectedObject" is null
	at pt.tecnico.sirs.secdoc.Check.check(Check.java:25) ~[classes/:na]
	at sirs.carserver.service.UserService.updateConfig(UserService.java:75) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.0.jar:6.2.0]
	at sirs.carserver.service.UserService$$SpringCGLIB$$0.updateConfig(<generated>) ~[classes/:na]
	at sirs.carserver.service.MessageProcessorService.updateConfigOperation(MessageProcessorService.java:105) ~[classes/:na]
	at sirs.carserver.service.MessageProcessorService.processMessage(MessageProcessorService.java:57) ~[classes/:na]
	at sirs.carserver.config.CarWebSocketClient.onMessage(CarWebSocketClient.java:43) ~[classes/:na]
	at org.java_websocket.client.WebSocketClient.onWebsocketMessage(WebSocketClient.java:636) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.drafts.Draft_6455.processFrameText(Draft_6455.java:963) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.drafts.Draft_6455.processFrame(Draft_6455.java:887) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.WebSocketImpl.decodeFrames(WebSocketImpl.java:401) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.WebSocketImpl.decode(WebSocketImpl.java:233) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.client.WebSocketClient.run(WebSocketClient.java:516) ~[Java-WebSocket-1.5.2.jar:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-28T16:21:48.494Z ERROR 26416 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Cannot invoke "pt.tecnico.sirs.model.ProtectedObject.getContent()" because "protectedObject" is null
2024-12-28T16:21:48.495Z  INFO 26416 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T16:21:49.497Z  INFO 26416 --- [Timer-0] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T16:21:49.499Z  WARN 26416 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T16:21:49.499Z  INFO 26416 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Reconnecting in 2 seconds...
2024-12-28T16:21:49.509Z  INFO 26416 --- [WebSocketConnectReadThread-240] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T16:21:51.501Z  INFO 26416 --- [Timer-1] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T16:21:51.502Z  WARN 26416 --- [WebSocketConnectReadThread-240] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T16:21:51.502Z  INFO 26416 --- [WebSocketConnectReadThread-240] s.carserver.config.CarWebSocketClient    : Reconnecting in 3 seconds...
2024-12-28T16:21:51.509Z  INFO 26416 --- [WebSocketConnectReadThread-248] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T16:21:54.515Z  INFO 26416 --- [Timer-2] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T16:21:54.516Z  WARN 26416 --- [WebSocketConnectReadThread-248] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T16:21:54.517Z  INFO 26416 --- [WebSocketConnectReadThread-248] s.carserver.config.CarWebSocketClient    : Reconnecting in 4 seconds...
2024-12-28T16:21:54.522Z  INFO 26416 --- [WebSocketConnectReadThread-258] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T16:21:58.529Z  INFO 26416 --- [Timer-3] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T16:21:58.530Z  WARN 26416 --- [WebSocketConnectReadThread-258] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T16:21:58.530Z  INFO 26416 --- [WebSocketConnectReadThread-258] s.carserver.config.CarWebSocketClient    : Reconnecting in 5 seconds...
2024-12-28T16:21:58.536Z  INFO 26416 --- [WebSocketConnectReadThread-270] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T16:22:03.543Z  INFO 26416 --- [Timer-4] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T16:22:03.545Z  WARN 26416 --- [WebSocketConnectReadThread-270] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T16:22:03.546Z ERROR 26416 --- [WebSocketConnectReadThread-270] s.carserver.config.CarWebSocketClient    : Max reconnect attempts reached. Giving up.
2024-12-28T16:22:03.552Z  INFO 26416 --- [WebSocketConnectReadThread-283] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T16:24:05.396Z  INFO 26416 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T16:24:05.396Z  WARN 26416 --- [WebSocketConnectReadThread-283] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T16:24:05.396Z ERROR 26416 --- [WebSocketConnectReadThread-283] s.carserver.config.CarWebSocketClient    : Max reconnect attempts reached. Giving up.
2024-12-28T16:24:05.402Z  INFO 26416 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T16:24:05.406Z  INFO 26416 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T16:24:37.778Z  INFO 18864 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 18864 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T16:24:37.781Z  INFO 18864 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T16:24:38.611Z  INFO 18864 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T16:24:38.734Z  INFO 18864 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 106 ms. Found 2 JPA repository interfaces.
2024-12-28T16:24:39.445Z  INFO 18864 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T16:24:39.584Z  INFO 18864 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@6b3f6585
2024-12-28T16:24:39.586Z  INFO 18864 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T16:24:39.696Z  INFO 18864 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T16:24:39.762Z  INFO 18864 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T16:24:39.801Z  INFO 18864 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T16:24:40.210Z  INFO 18864 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T16:24:40.286Z  INFO 18864 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T16:24:41.194Z  INFO 18864 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T16:24:41.230Z  INFO 18864 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T16:24:41.774Z  INFO 18864 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T16:24:41.844Z  INFO 18864 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 5.007 seconds (process running for 6.118)
2024-12-28T16:24:59.440Z  INFO 18864 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T16:24:59.441Z  INFO 18864 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T16:24:59.443Z  INFO 18864 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T16:24:59.443Z  INFO 18864 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T16:24:59.445Z  INFO 18864 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T16:24:59.447Z  INFO 18864 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T16:24:59.499Z  INFO 18864 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T16:24:59.499Z  INFO 18864 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735403099462",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T16:25:05.145Z  INFO 18864 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T16:25:05.145Z  INFO 18864 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "y72+Y6BAzsLTOHrXEoqbPotf+jNE4fVWDdIlVywm22g\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"UZeKsqtp3Hs\",\n  \"timestamp\": 1735403104320\n}"
}
2024-12-28T16:25:05.146Z  INFO 18864 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T16:25:05.146Z  INFO 18864 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Pairing code: y72+Y6BAzsLTOHrXEoqbPotf+jNE4fVWDdIlVywm22g=
2024-12-28T16:25:05.148Z  INFO 18864 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T16:25:05.202Z  INFO 18864 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T16:25:05.203Z  INFO 18864 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T16:25:05.239Z  INFO 18864 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T16:25:05.239Z  INFO 18864 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T16:25:05.240Z  INFO 18864 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T16:25:05.240Z  INFO 18864 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T16:25:05.240Z  INFO 18864 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T16:25:05.391Z  INFO 18864 --- [WebSocketConnectReadThread-44] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T16:25:21.922Z  INFO 18864 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T16:25:21.922Z  INFO 18864 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "updateconfig",
  "userId": "Diogo",
  "content": "pUddgIKMyhWGfA2IiDKUOJoaDqB58mM3mOoIH/Xr4GHet12Cw0vaxKd3p00Zy8cjTXfEI8AMmDKEZdqE+PvXrlUhVhu8rvZKA8o2IgpQeEy447I61vSjOvTtyzXW5o70",
  "iv": "7J/lNN/X+FzeDur6Lwf9ew\u003d\u003d",
  "nonce": {
    "base64Random": "ocGh7qLl9Ps",
    "timestamp": 1735403121886
  },
  "hmac": "81qFPhODf8gJgjYEGGok+VaOZ5/KFghGO3CXteTuUSk\u003d",
  "reqId": "1735403121920"
}
2024-12-28T16:25:21.924Z  INFO 18864 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T16:25:22.072Z  INFO 18864 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-28T16:25:22.072Z  INFO 18864 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-28T16:25:22.073Z  INFO 18864 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: 81qFPhODf8gJgjYEGGok+VaOZ5/KFghGO3CXteTuUSk=
2024-12-28T16:25:22.074Z  INFO 18864 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: 81qFPhODf8gJgjYEGGok+VaOZ5/KFghGO3CXteTuUSk=
2024-12-28T16:25:22.074Z  INFO 18864 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-28T16:25:22.075Z  INFO 18864 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-28T16:25:22.076Z  INFO 18864 --- [WebSocketConnectReadThread-44] sirs.carserver.service.UserService       : Successfully updated the config
2024-12-28T16:25:22.076Z  INFO 18864 --- [WebSocketConnectReadThread-44] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T16:30:40.706Z  INFO 18864 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T16:30:40.706Z  WARN 18864 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T16:30:40.706Z  INFO 18864 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T16:30:40.714Z  INFO 18864 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T16:30:40.722Z  INFO 18864 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T16:31:07.555Z  INFO 26472 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 26472 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T16:31:07.559Z  INFO 26472 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T16:31:08.310Z  INFO 26472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T16:31:08.411Z  INFO 26472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 88 ms. Found 2 JPA repository interfaces.
2024-12-28T16:31:09.022Z  INFO 26472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T16:31:09.150Z  INFO 26472 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@42b28ff1
2024-12-28T16:31:09.154Z  INFO 26472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T16:31:09.302Z  INFO 26472 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T16:31:09.399Z  INFO 26472 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T16:31:09.461Z  INFO 26472 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T16:31:09.904Z  INFO 26472 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T16:31:09.987Z  INFO 26472 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T16:31:10.860Z  INFO 26472 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T16:31:10.902Z  INFO 26472 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T16:31:11.487Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T16:31:11.573Z  INFO 26472 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.788 seconds (process running for 5.873)
2024-12-28T16:31:44.666Z  INFO 26472 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T16:31:44.667Z  INFO 26472 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T16:31:44.668Z  INFO 26472 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T16:31:44.669Z  INFO 26472 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T16:31:44.672Z  INFO 26472 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T16:31:44.673Z  INFO 26472 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T16:31:44.746Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T16:31:44.747Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735403504700",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T16:31:50.308Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T16:31:50.309Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "scEMUaTyNc8xih4vipTrcJdMyT7/UqLrqFEtsSbC7x8\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"auf8n39kgEU\",\n  \"timestamp\": 1735403509527\n}"
}
2024-12-28T16:31:50.310Z  INFO 26472 --- [WebSocketConnectReadThread-43] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T16:31:50.311Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.c.service.MessageProcessorService      : Pairing code: scEMUaTyNc8xih4vipTrcJdMyT7/UqLrqFEtsSbC7x8=
2024-12-28T16:31:50.311Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T16:31:50.364Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T16:31:50.365Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T16:31:50.403Z  INFO 26472 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T16:31:50.403Z  INFO 26472 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T16:31:50.403Z  INFO 26472 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T16:31:50.403Z  INFO 26472 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T16:31:50.403Z  INFO 26472 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T16:31:50.525Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T16:32:09.448Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T16:32:09.448Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "updateconfig",
  "userId": "Diogo",
  "content": "atMApCUgnINJ3vps8owf+RiTDlu8TV1VnctH6lumDYoCMeFAWj2ZHkI0vB2RYIfGs46NYlofgLroAJtoVzv6vM2hhwpYLmKr3Vt6qI9tR1uyJnIiJCDYh0tBLgkhr7uR",
  "iv": "ld5TItsxOJRls9hEvOPFSA\u003d\u003d",
  "nonce": {
    "base64Random": "J4856xZwL0k",
    "timestamp": 1735403529410
  },
  "hmac": "YvoQXhevBtifPGcnSMUDXb+7OYszuKSoMUAXt9krXfQ\u003d",
  "reqId": "1735403529446"
}
2024-12-28T16:32:09.450Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T16:32:09.622Z  INFO 26472 --- [WebSocketConnectReadThread-43] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-28T16:32:09.624Z  INFO 26472 --- [WebSocketConnectReadThread-43] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-28T16:32:09.625Z  INFO 26472 --- [WebSocketConnectReadThread-43] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: YvoQXhevBtifPGcnSMUDXb+7OYszuKSoMUAXt9krXfQ=
2024-12-28T16:32:09.625Z  INFO 26472 --- [WebSocketConnectReadThread-43] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: YvoQXhevBtifPGcnSMUDXb+7OYszuKSoMUAXt9krXfQ=
2024-12-28T16:32:09.625Z  INFO 26472 --- [WebSocketConnectReadThread-43] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-28T16:32:09.625Z  INFO 26472 --- [WebSocketConnectReadThread-43] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-28T16:32:09.626Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.UserService       : Successfully updated the config
2024-12-28T16:32:09.626Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T16:32:29.366Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T16:32:29.366Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "deleteconfig",
  "userId": "Diogo",
  "content": "aBFzzemIAykfzz5CNuOhiSC0xty90K+3lMSar1jhGHM\u003d",
  "iv": "hJLCnyYmt0DJsWfWoaqiRw\u003d\u003d",
  "nonce": {
    "base64Random": "Mo1onfDylvg",
    "timestamp": 1735403549344
  },
  "hmac": "/hD+O2R71WnTyICtIkkKPTA/fqTt+6SyytupWq1fDT8\u003d",
  "reqId": "1735403549365"
}
2024-12-28T16:32:29.366Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.c.service.MessageProcessorService      : Deleting user: Diogo
2024-12-28T16:32:29.368Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.UserService       : Delete configuration for user: Diogo
2024-12-28T16:32:29.368Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T16:32:29.401Z  INFO 26472 --- [WebSocketConnectReadThread-43] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-28T16:32:29.402Z  INFO 26472 --- [WebSocketConnectReadThread-43] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-28T16:32:29.402Z  INFO 26472 --- [WebSocketConnectReadThread-43] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: /hD+O2R71WnTyICtIkkKPTA/fqTt+6SyytupWq1fDT8=
2024-12-28T16:32:29.402Z  INFO 26472 --- [WebSocketConnectReadThread-43] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: /hD+O2R71WnTyICtIkkKPTA/fqTt+6SyytupWq1fDT8=
2024-12-28T16:32:29.402Z  INFO 26472 --- [WebSocketConnectReadThread-43] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-28T16:32:29.402Z  INFO 26472 --- [WebSocketConnectReadThread-43] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-28T16:32:29.412Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.KeyStoreService   : Removed key for user: Diogo
2024-12-28T16:32:29.423Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.UserService       : Successfully deleted user config
2024-12-28T16:32:29.423Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T16:32:49.662Z  INFO 26472 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T16:32:49.663Z  INFO 26472 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T16:32:49.663Z  INFO 26472 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T16:32:49.663Z  INFO 26472 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T16:32:49.663Z  INFO 26472 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T16:32:49.665Z  INFO 26472 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T16:32:49.670Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T16:32:49.670Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735403569666",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T16:32:54.825Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T16:32:54.825Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "3E3QDzXeh9mODz3DeNobsdpxSs/6vXrCbwnB4R4/z04\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"XZ9T8F6k6hQ\",\n  \"timestamp\": 1735403574813\n}"
}
2024-12-28T16:32:54.825Z  INFO 26472 --- [WebSocketConnectReadThread-43] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T16:32:54.825Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.c.service.MessageProcessorService      : Pairing code: 3E3QDzXeh9mODz3DeNobsdpxSs/6vXrCbwnB4R4/z04=
2024-12-28T16:32:54.826Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T16:32:54.872Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T16:32:54.872Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T16:32:54.913Z  INFO 26472 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T16:32:54.913Z  INFO 26472 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T16:32:54.914Z  INFO 26472 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T16:32:54.914Z  INFO 26472 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T16:32:54.914Z  INFO 26472 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T16:32:54.922Z  INFO 26472 --- [WebSocketConnectReadThread-43] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T16:34:31.195Z  INFO 26472 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T16:34:31.198Z  WARN 26472 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T16:34:31.198Z  INFO 26472 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T16:34:31.205Z  INFO 26472 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T16:34:31.211Z  INFO 26472 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T16:36:39.479Z  INFO 18444 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 18444 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T16:36:39.483Z  INFO 18444 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T16:36:40.492Z  INFO 18444 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T16:36:40.635Z  INFO 18444 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 120 ms. Found 2 JPA repository interfaces.
2024-12-28T16:36:41.267Z  INFO 18444 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T16:36:41.477Z  INFO 18444 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@64f1fd08
2024-12-28T16:36:41.480Z  INFO 18444 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T16:36:41.639Z  INFO 18444 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T16:36:41.725Z  INFO 18444 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T16:36:41.773Z  INFO 18444 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T16:36:42.138Z  INFO 18444 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T16:36:42.233Z  INFO 18444 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T16:36:43.958Z  INFO 18444 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T16:36:44.051Z  INFO 18444 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T16:36:44.727Z  INFO 18444 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T16:36:44.864Z  INFO 18444 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 6.263 seconds (process running for 7.285)
2024-12-28T16:37:10.639Z  INFO 18444 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T16:37:10.640Z  INFO 18444 --- [WebSocketConnectReadThread-45] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "updateconfig",
  "userId": "Diogo",
  "content": "oWYud9AKVs7ude07vsp727VIrs1T8xRA42PpTWkvV3QGbNcWwKfH7HFqPxdkIaJHvIjkxcqvs1LEhGvqrrulQzhVpjrdcpfi2X65cF13/VIt8BRACrDbg8UH5vIVMaIS",
  "iv": "QUtpmamZlSRXtETAFYQk0Q\u003d\u003d",
  "nonce": {
    "base64Random": "z6vFMU7Zugs",
    "timestamp": 1735403830605
  },
  "hmac": "dEFFkKovFUEFHLu0QmOEiO47UrsMbp8feATc0aZHpSo\u003d",
  "reqId": "1735403830624"
}
2024-12-28T16:37:10.680Z  INFO 18444 --- [WebSocketConnectReadThread-45] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T16:37:10.897Z  INFO 18444 --- [WebSocketConnectReadThread-45] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-28T16:37:10.898Z  INFO 18444 --- [WebSocketConnectReadThread-45] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-28T16:37:10.900Z  INFO 18444 --- [WebSocketConnectReadThread-45] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: dEFFkKovFUEFHLu0QmOEiO47UrsMbp8feATc0aZHpSo=
2024-12-28T16:37:10.901Z  INFO 18444 --- [WebSocketConnectReadThread-45] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: dEFFkKovFUEFHLu0QmOEiO47UrsMbp8feATc0aZHpSo=
2024-12-28T16:37:10.901Z  INFO 18444 --- [WebSocketConnectReadThread-45] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-28T16:37:10.901Z  INFO 18444 --- [WebSocketConnectReadThread-45] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-28T16:37:10.916Z  INFO 18444 --- [WebSocketConnectReadThread-45] sirs.carserver.service.UserService       : Successfully updated the config
2024-12-28T16:37:10.916Z  INFO 18444 --- [WebSocketConnectReadThread-45] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T16:59:12.702Z  INFO 18444 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T16:59:12.704Z  WARN 18444 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T16:59:12.704Z  INFO 18444 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T16:59:12.706Z  INFO 18444 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T16:59:12.708Z  INFO 18444 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T17:39:04.068Z  INFO 25472 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 25472 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T17:39:04.071Z  INFO 25472 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T17:39:04.736Z  INFO 25472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T17:39:04.856Z  INFO 25472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 102 ms. Found 2 JPA repository interfaces.
2024-12-28T17:39:05.410Z  INFO 25472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T17:39:05.524Z  INFO 25472 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@45e1aa48
2024-12-28T17:39:05.527Z  INFO 25472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T17:39:05.646Z  INFO 25472 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T17:39:05.722Z  INFO 25472 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T17:39:05.784Z  INFO 25472 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T17:39:06.192Z  INFO 25472 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T17:39:06.273Z  INFO 25472 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T17:39:07.080Z  INFO 25472 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T17:39:07.115Z  INFO 25472 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T17:39:07.566Z  INFO 25472 --- [WebSocketConnectReadThread-42] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T17:39:07.640Z  INFO 25472 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.188 seconds (process running for 4.94)
2024-12-28T17:41:09.213Z  INFO 25472 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T17:41:09.214Z  WARN 25472 --- [WebSocketConnectReadThread-42] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T17:41:09.215Z  INFO 25472 --- [WebSocketConnectReadThread-42] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T17:41:09.218Z  INFO 25472 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T17:41:09.221Z  INFO 25472 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T17:42:55.466Z  INFO 15296 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 15296 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T17:42:55.469Z  INFO 15296 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T17:42:56.425Z  INFO 15296 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T17:42:56.511Z  INFO 15296 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 2 JPA repository interfaces.
2024-12-28T17:42:57.092Z  INFO 15296 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T17:42:57.386Z  INFO 15296 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@4c18621b
2024-12-28T17:42:57.407Z  INFO 15296 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T17:42:57.819Z  INFO 15296 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T17:42:57.978Z  INFO 15296 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T17:42:58.039Z  INFO 15296 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T17:42:58.505Z  INFO 15296 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T17:42:58.617Z  INFO 15296 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T17:42:59.670Z  INFO 15296 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T17:42:59.734Z  INFO 15296 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T17:43:00.264Z  INFO 15296 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T17:43:00.354Z  INFO 15296 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 5.701 seconds (process running for 6.862)
2024-12-28T17:44:13.383Z  INFO 15296 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T17:44:13.387Z  WARN 15296 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T17:44:13.390Z  INFO 15296 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T17:44:13.421Z  INFO 15296 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T17:44:13.466Z  INFO 15296 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T17:44:24.219Z  INFO 28624 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 28624 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T17:44:24.222Z  INFO 28624 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T17:44:25.339Z  INFO 28624 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T17:44:25.442Z  INFO 28624 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 92 ms. Found 2 JPA repository interfaces.
2024-12-28T17:44:26.099Z  INFO 28624 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T17:44:26.233Z  INFO 28624 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@76889e60
2024-12-28T17:44:26.238Z  INFO 28624 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T17:44:26.405Z  INFO 28624 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T17:44:26.505Z  INFO 28624 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T17:44:26.555Z  INFO 28624 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T17:44:27.029Z  INFO 28624 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T17:44:27.139Z  INFO 28624 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T17:44:28.128Z  INFO 28624 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T17:44:28.174Z  INFO 28624 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T17:44:28.733Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T17:44:28.821Z  INFO 28624 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 5.322 seconds (process running for 6.37)
2024-12-28T17:44:38.376Z  INFO 28624 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T17:44:38.377Z  INFO 28624 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T17:44:38.378Z  INFO 28624 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T17:44:38.379Z  INFO 28624 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T17:44:38.381Z  INFO 28624 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T17:44:38.381Z  INFO 28624 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T17:44:38.439Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T17:44:38.440Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735407878399",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T17:44:43.752Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T17:44:43.752Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "eaxSjFqIn+VNvZBR6DQyreodZn6E8JhiufKpAP/h2mY\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"qavhyZWuY6w\",\n  \"timestamp\": 1735407882997\n}"
}
2024-12-28T17:44:43.753Z  INFO 28624 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T17:44:43.753Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Pairing code: eaxSjFqIn+VNvZBR6DQyreodZn6E8JhiufKpAP/h2mY=
2024-12-28T17:44:43.754Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T17:44:43.812Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T17:44:43.813Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T17:44:43.848Z  INFO 28624 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T17:44:43.849Z  INFO 28624 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T17:44:43.849Z  INFO 28624 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T17:44:43.849Z  INFO 28624 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T17:44:43.849Z  INFO 28624 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T17:44:43.983Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T17:45:11.221Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T17:45:11.222Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "updateconfig",
  "userId": "Diogo",
  "content": "xjAr2R4eLlQ3J3ASKhq4ewtH82f1qxzbTLFehQZWabRCUD5cFO9maIplCNxV5XIQJzAkJbX1eVtV2+2RGXqnDtowpOeQsZMzzzyT94ZOaX1Kn3zDjgkyUa3d+SVce1Lm",
  "iv": "INn+CSsoZ+4dYQsBWp2HnQ\u003d\u003d",
  "nonce": {
    "base64Random": "DQV4IYqW1n8",
    "timestamp": 1735407911193
  },
  "hmac": "sww5eM5JjCU+yA5Wa0jontt5umxt/RpJKBj8F6fm8B8\u003d",
  "reqId": "1735407911221"
}
2024-12-28T17:45:11.223Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T17:45:11.400Z  INFO 28624 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-28T17:45:11.401Z  INFO 28624 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-28T17:45:11.404Z  INFO 28624 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: sww5eM5JjCU+yA5Wa0jontt5umxt/RpJKBj8F6fm8B8=
2024-12-28T17:45:11.405Z  INFO 28624 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: sww5eM5JjCU+yA5Wa0jontt5umxt/RpJKBj8F6fm8B8=
2024-12-28T17:45:11.409Z  INFO 28624 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-28T17:45:11.409Z  INFO 28624 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-28T17:45:11.410Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.UserService       : Successfully updated the config
2024-12-28T17:45:11.410Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T17:45:20.510Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T17:45:20.510Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "deleteconfig",
  "userId": "Diogo",
  "content": "0sqEpl4zN+bYhV5qy36aulUJLiSLQ4dgvx2cL1N/ZFA\u003d",
  "iv": "AFdIqhGfvE7/oxo3+nUssA\u003d\u003d",
  "nonce": {
    "base64Random": "jURmwaVzpg8",
    "timestamp": 1735407920496
  },
  "hmac": "CrgYhkk4dtz05muN9Itie7sU3vBxw0PKllLMe0ZfGyg\u003d",
  "reqId": "1735407920509"
}
2024-12-28T17:45:20.510Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Deleting user: Diogo
2024-12-28T17:45:20.511Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.UserService       : Delete configuration for user: Diogo
2024-12-28T17:45:20.511Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T17:45:20.545Z  INFO 28624 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-28T17:45:20.546Z  INFO 28624 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-28T17:45:20.546Z  INFO 28624 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: CrgYhkk4dtz05muN9Itie7sU3vBxw0PKllLMe0ZfGyg=
2024-12-28T17:45:20.546Z  INFO 28624 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: CrgYhkk4dtz05muN9Itie7sU3vBxw0PKllLMe0ZfGyg=
2024-12-28T17:45:20.546Z  INFO 28624 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-28T17:45:20.546Z  INFO 28624 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-28T17:45:20.555Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Removed key for user: Diogo
2024-12-28T17:45:20.568Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.UserService       : Successfully deleted user config
2024-12-28T17:45:20.568Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T17:45:36.311Z  INFO 28624 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T17:45:36.311Z  INFO 28624 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T17:45:36.313Z  INFO 28624 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T17:45:36.313Z  INFO 28624 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T17:45:36.313Z  INFO 28624 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T17:45:36.313Z  INFO 28624 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T17:45:36.317Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T17:45:36.318Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735407936313",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T17:45:42.851Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T17:45:42.851Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "lerPlcMXOkF8QfGAGM1NaV/wCV82dRRcStAt0xgQwMs\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"GpFhiyDyqfA\",\n  \"timestamp\": 1735407942831\n}"
}
2024-12-28T17:45:42.851Z  INFO 28624 --- [WebSocketConnectReadThread-44] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T17:45:42.851Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Pairing code: lerPlcMXOkF8QfGAGM1NaV/wCV82dRRcStAt0xgQwMs=
2024-12-28T17:45:42.851Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T17:45:42.901Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T17:45:42.902Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T17:45:42.939Z  INFO 28624 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T17:45:42.939Z  INFO 28624 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T17:45:42.939Z  INFO 28624 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T17:45:42.939Z  INFO 28624 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T17:45:42.939Z  INFO 28624 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T17:45:42.945Z  INFO 28624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T17:46:06.777Z  INFO 28624 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T17:46:06.778Z  WARN 28624 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T17:46:06.778Z  INFO 28624 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T17:46:06.784Z  INFO 28624 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T17:46:06.788Z  INFO 28624 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T17:52:57.691Z  INFO 23808 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 23808 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T17:52:57.694Z  INFO 23808 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T17:52:58.514Z  INFO 23808 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T17:52:58.655Z  INFO 23808 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 115 ms. Found 2 JPA repository interfaces.
2024-12-28T17:52:59.171Z  INFO 23808 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T17:52:59.304Z  INFO 23808 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@64f1fd08
2024-12-28T17:52:59.308Z  INFO 23808 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T17:52:59.455Z  INFO 23808 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T17:52:59.567Z  INFO 23808 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T17:52:59.665Z  INFO 23808 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T17:53:00.062Z  INFO 23808 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T17:53:00.140Z  INFO 23808 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T17:53:01.909Z  INFO 23808 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T17:53:01.982Z  INFO 23808 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T17:53:02.864Z  INFO 23808 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T17:53:02.966Z  INFO 23808 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 6.158 seconds (process running for 7.071)
2024-12-28T17:53:18.042Z  INFO 23808 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T17:53:18.043Z  INFO 23808 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T17:53:18.043Z  INFO 23808 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T17:53:18.044Z  INFO 23808 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T17:53:18.047Z  INFO 23808 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T17:53:18.047Z  INFO 23808 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T17:53:18.108Z  INFO 23808 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T17:53:18.108Z  INFO 23808 --- [WebSocketConnectReadThread-46] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735408398069",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T17:53:23.925Z  INFO 23808 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T17:53:23.925Z  INFO 23808 --- [WebSocketConnectReadThread-46] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "lPV2dWU5Xztj+tD75esylUu1NGBjaa6B0KPCYz0sz0I\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"J8wFj7U8De8\",\n  \"timestamp\": 1735408403175\n}"
}
2024-12-28T17:53:23.926Z  INFO 23808 --- [WebSocketConnectReadThread-46] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T17:53:23.927Z  INFO 23808 --- [WebSocketConnectReadThread-46] s.c.service.MessageProcessorService      : Pairing code: lPV2dWU5Xztj+tD75esylUu1NGBjaa6B0KPCYz0sz0I=
2024-12-28T17:53:23.927Z  INFO 23808 --- [WebSocketConnectReadThread-46] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T17:53:23.984Z  INFO 23808 --- [WebSocketConnectReadThread-46] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T17:53:23.985Z  INFO 23808 --- [WebSocketConnectReadThread-46] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T17:53:24.020Z  INFO 23808 --- [WebSocketConnectReadThread-46] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T17:53:24.020Z  INFO 23808 --- [WebSocketConnectReadThread-46] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T17:53:24.020Z  INFO 23808 --- [WebSocketConnectReadThread-46] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T17:53:24.020Z  INFO 23808 --- [WebSocketConnectReadThread-46] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T17:53:24.021Z  INFO 23808 --- [WebSocketConnectReadThread-46] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T17:53:24.163Z  INFO 23808 --- [WebSocketConnectReadThread-46] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T17:59:18.304Z  WARN 23808 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T17:59:18.305Z  INFO 23808 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T17:59:18.304Z  INFO 23808 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T17:59:18.311Z  INFO 23808 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T17:59:18.317Z  INFO 23808 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T18:03:23.665Z  INFO 12304 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 12304 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T18:03:23.669Z  INFO 12304 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T18:03:24.327Z  INFO 12304 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T18:03:24.399Z  INFO 12304 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 2 JPA repository interfaces.
2024-12-28T18:03:24.976Z  INFO 12304 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T18:03:25.092Z  INFO 12304 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@45e1aa48
2024-12-28T18:03:25.094Z  INFO 12304 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T18:03:25.188Z  INFO 12304 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T18:03:25.267Z  INFO 12304 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T18:03:25.324Z  INFO 12304 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T18:03:25.756Z  INFO 12304 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T18:03:25.855Z  INFO 12304 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T18:03:26.917Z  INFO 12304 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T18:03:26.968Z  INFO 12304 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:03:27.515Z  INFO 12304 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T18:03:27.602Z  INFO 12304 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.625 seconds (process running for 5.719)
2024-12-28T18:12:08.692Z  INFO 12304 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:12:08.693Z  WARN 12304 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T18:12:08.693Z  INFO 12304 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T18:12:08.699Z  INFO 12304 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T18:12:08.704Z  INFO 12304 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T18:12:24.103Z  INFO 17484 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 17484 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T18:12:24.107Z  INFO 17484 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T18:12:24.822Z  INFO 17484 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T18:12:24.962Z  INFO 17484 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 130 ms. Found 2 JPA repository interfaces.
2024-12-28T18:12:25.531Z  INFO 17484 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T18:12:25.638Z  INFO 17484 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@692e028d
2024-12-28T18:12:25.640Z  INFO 17484 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T18:12:25.757Z  INFO 17484 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T18:12:25.854Z  INFO 17484 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T18:12:25.906Z  INFO 17484 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T18:12:26.336Z  INFO 17484 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T18:12:26.421Z  INFO 17484 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T18:12:27.363Z  INFO 17484 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T18:12:27.407Z  WARN 17484 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table general_car_info add column car_id varchar(255) not null" via JDBC [[SQLITE_ERROR] SQL error or missing database (Cannot add a NOT NULL column with default value NULL)]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table general_car_info add column car_id varchar(255) not null" via JDBC [[SQLITE_ERROR] SQL error or missing database (Cannot add a NOT NULL column with default value NULL)]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1849) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1798) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:288) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.0.jar:3.4.0]
	at sirs.carserver.CarApplication.main(CarApplication.java:13) ~[classes/:na]
Caused by: org.sqlite.SQLiteException: [SQLITE_ERROR] SQL error or missing database (Cannot add a NOT NULL column with default value NULL)
	at org.sqlite.core.DB.newSQLException(DB.java:1179) ~[sqlite-jdbc-3.47.0.0.jar:na]
	at org.sqlite.core.DB.newSQLException(DB.java:1190) ~[sqlite-jdbc-3.47.0.0.jar:na]
	at org.sqlite.core.DB.execute(DB.java:988) ~[sqlite-jdbc-3.47.0.0.jar:na]
	at org.sqlite.core.CoreStatement.exec(CoreStatement.java:91) ~[sqlite-jdbc-3.47.0.0.jar:na]
	at org.sqlite.jdbc3.JDBC3Statement.lambda$execute$0(JDBC3Statement.java:56) ~[sqlite-jdbc-3.47.0.0.jar:na]
	at org.sqlite.jdbc3.JDBC3Statement.withConnectionTimeout(JDBC3Statement.java:458) ~[sqlite-jdbc-3.47.0.0.jar:na]
	at org.sqlite.jdbc3.JDBC3Statement.execute(JDBC3Statement.java:44) ~[sqlite-jdbc-3.47.0.0.jar:na]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.3.Final.jar:6.6.3.Final]
	... 36 common frames omitted

2024-12-28T18:12:27.417Z  INFO 17484 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:12:28.030Z  INFO 17484 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T18:12:28.116Z  INFO 17484 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.718 seconds (process running for 5.524)
2024-12-28T18:16:08.539Z  INFO 17484 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:16:08.540Z  WARN 17484 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T18:16:08.541Z  INFO 17484 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T18:16:08.544Z  INFO 17484 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T18:16:08.549Z  INFO 17484 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T18:16:29.717Z  INFO 27136 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 27136 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T18:16:29.721Z  INFO 27136 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T18:16:30.359Z  INFO 27136 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T18:16:30.441Z  INFO 27136 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 68 ms. Found 2 JPA repository interfaces.
2024-12-28T18:16:31.084Z  INFO 27136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T18:16:31.200Z  INFO 27136 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@27df0f3d
2024-12-28T18:16:31.203Z  INFO 27136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T18:16:31.311Z  INFO 27136 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T18:16:31.375Z  INFO 27136 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T18:16:31.427Z  INFO 27136 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T18:16:31.805Z  INFO 27136 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T18:16:31.887Z  INFO 27136 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T18:16:32.841Z  INFO 27136 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T18:16:32.884Z  INFO 27136 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:16:33.422Z  INFO 27136 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T18:16:33.502Z  INFO 27136 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.444 seconds (process running for 5.268)
2024-12-28T18:18:37.965Z  INFO 27136 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T18:18:37.965Z  INFO 27136 --- [WebSocketConnectReadThread-43] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"aaTp2sTUZDA\",\n  \"timestamp\": 1735409917250\n}",
  "reqId": "1735409917962"
}
2024-12-28T18:18:37.972Z  INFO 27136 --- [WebSocketConnectReadThread-43] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T18:18:38.120Z  INFO 27136 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T18:18:38.121Z  INFO 27136 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T18:18:38.122Z  INFO 27136 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T18:18:38.123Z  INFO 27136 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T18:18:38.123Z  INFO 27136 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T18:21:08.319Z  INFO 27136 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T18:21:08.320Z  INFO 27136 --- [WebSocketConnectReadThread-43] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"SW4Rdm3v1Vg\",\n  \"timestamp\": 1735410067799\n}",
  "reqId": "1735410068317"
}
2024-12-28T18:21:08.320Z  INFO 27136 --- [WebSocketConnectReadThread-43] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T18:21:08.356Z  INFO 27136 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T18:21:08.356Z  INFO 27136 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T18:21:08.356Z  INFO 27136 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T18:21:08.356Z  INFO 27136 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T18:21:08.356Z  INFO 27136 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T18:22:32.265Z  WARN 27136 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T18:22:32.265Z  INFO 27136 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T18:22:32.269Z  INFO 27136 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:22:32.282Z  INFO 27136 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T18:22:32.318Z  INFO 27136 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T18:24:08.738Z  INFO 27016 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 27016 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T18:24:08.743Z  INFO 27016 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T18:24:09.502Z  INFO 27016 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T18:24:09.616Z  INFO 27016 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 2 JPA repository interfaces.
2024-12-28T18:24:10.269Z  INFO 27016 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T18:24:10.388Z  INFO 27016 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@692e028d
2024-12-28T18:24:10.390Z  INFO 27016 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T18:24:10.561Z  INFO 27016 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T18:24:10.649Z  INFO 27016 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T18:24:10.701Z  INFO 27016 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T18:24:11.109Z  INFO 27016 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T18:24:11.195Z  INFO 27016 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T18:24:12.154Z  INFO 27016 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T18:24:12.203Z  INFO 27016 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:24:12.728Z  INFO 27016 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T18:24:12.812Z  INFO 27016 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.845 seconds (process running for 6.0)
2024-12-28T18:24:22.147Z  INFO 27016 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T18:24:22.148Z  INFO 27016 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"6VGEjZtowic\",\n  \"timestamp\": 1735410261270\n}",
  "reqId": "1735410262141"
}
2024-12-28T18:24:22.157Z  INFO 27016 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T18:24:22.294Z  INFO 27016 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T18:24:22.295Z  INFO 27016 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T18:24:22.296Z  INFO 27016 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T18:24:22.296Z  INFO 27016 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T18:24:22.296Z  INFO 27016 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T18:33:53.267Z  WARN 27016 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T18:33:53.267Z  INFO 27016 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T18:33:53.267Z  INFO 27016 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:33:53.274Z  INFO 27016 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T18:33:53.285Z  INFO 27016 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T18:34:04.672Z  INFO 21624 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 21624 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T18:34:04.674Z  INFO 21624 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T18:34:05.476Z  INFO 21624 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T18:34:05.621Z  INFO 21624 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 121 ms. Found 2 JPA repository interfaces.
2024-12-28T18:34:06.234Z  INFO 21624 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T18:34:06.360Z  INFO 21624 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@36061cf3
2024-12-28T18:34:06.363Z  INFO 21624 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T18:34:06.492Z  INFO 21624 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T18:34:06.577Z  INFO 21624 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T18:34:06.632Z  INFO 21624 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T18:34:07.051Z  INFO 21624 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T18:34:07.160Z  INFO 21624 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T18:34:08.134Z  INFO 21624 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T18:34:08.170Z  INFO 21624 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:34:08.702Z  INFO 21624 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T18:34:08.783Z  INFO 21624 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.836 seconds (process running for 5.735)
2024-12-28T18:34:18.823Z  INFO 21624 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T18:34:18.823Z  INFO 21624 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"9NNilk8ziEE\",\n  \"timestamp\": 1735410858005\n}",
  "reqId": "1735410858813"
}
2024-12-28T18:34:18.830Z  INFO 21624 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T18:34:18.979Z  INFO 21624 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T18:34:18.979Z  INFO 21624 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T18:34:18.980Z  INFO 21624 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T18:34:18.980Z  INFO 21624 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T18:34:18.981Z  INFO 21624 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T18:35:42.103Z  INFO 21624 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:35:42.104Z  WARN 21624 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T18:35:42.105Z  INFO 21624 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T18:35:42.110Z  INFO 21624 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T18:35:42.117Z  INFO 21624 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T18:35:53.182Z  INFO 5040 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 5040 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T18:35:53.187Z  INFO 5040 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T18:35:53.979Z  INFO 5040 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T18:35:54.124Z  INFO 5040 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 120 ms. Found 2 JPA repository interfaces.
2024-12-28T18:35:54.714Z  INFO 5040 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T18:35:54.829Z  INFO 5040 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@282ffbf5
2024-12-28T18:35:54.832Z  INFO 5040 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T18:35:55.039Z  INFO 5040 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T18:35:55.123Z  INFO 5040 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T18:35:55.186Z  INFO 5040 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T18:35:55.638Z  INFO 5040 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T18:35:55.753Z  INFO 5040 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T18:35:56.832Z  INFO 5040 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T18:35:56.874Z  INFO 5040 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:35:57.418Z  INFO 5040 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T18:35:57.515Z  INFO 5040 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 5.119 seconds (process running for 6.294)
2024-12-28T18:36:05.761Z  INFO 5040 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T18:36:05.762Z  INFO 5040 --- [WebSocketConnectReadThread-45] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"MqsPCbhqd8Q\",\n  \"timestamp\": 1735410964892\n}",
  "reqId": "1735410965753"
}
2024-12-28T18:36:05.769Z  INFO 5040 --- [WebSocketConnectReadThread-45] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T18:36:05.912Z  INFO 5040 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T18:36:05.913Z  INFO 5040 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T18:36:05.914Z  INFO 5040 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T18:36:05.914Z  INFO 5040 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T18:36:05.915Z  INFO 5040 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T18:37:07.671Z  INFO 5040 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:37:07.672Z  WARN 5040 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T18:37:07.672Z  INFO 5040 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T18:37:07.678Z  INFO 5040 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T18:37:07.681Z  INFO 5040 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T18:38:55.364Z  INFO 480 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 480 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T18:38:55.366Z  INFO 480 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T18:38:56.179Z  INFO 480 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T18:38:56.336Z  INFO 480 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 137 ms. Found 2 JPA repository interfaces.
2024-12-28T18:38:57.014Z  INFO 480 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T18:38:57.123Z  INFO 480 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@282ffbf5
2024-12-28T18:38:57.125Z  INFO 480 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T18:38:57.245Z  INFO 480 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T18:38:57.317Z  INFO 480 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T18:38:57.362Z  INFO 480 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T18:38:57.713Z  INFO 480 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T18:38:57.798Z  INFO 480 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T18:38:58.713Z  INFO 480 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T18:38:58.756Z  INFO 480 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:38:59.327Z  INFO 480 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T18:38:59.424Z  INFO 480 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.838 seconds (process running for 5.821)
2024-12-28T18:39:09.874Z  INFO 480 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T18:39:09.874Z  INFO 480 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"jEYyAXcMAas\",\n  \"timestamp\": 1735411149125\n}",
  "reqId": "1735411149868"
}
2024-12-28T18:39:09.882Z  INFO 480 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T18:39:10.020Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T18:39:10.021Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T18:39:10.022Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T18:39:10.022Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T18:39:10.023Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T18:41:23.329Z  INFO 480 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T18:41:23.329Z  INFO 480 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"GkzPpWXzBPg\",\n  \"timestamp\": 1735411269080\n}",
  "reqId": "1735411283328"
}
2024-12-28T18:41:23.329Z  INFO 480 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T18:41:23.354Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T18:41:23.354Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T18:41:23.355Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T18:41:23.355Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T18:41:23.355Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T18:45:31.702Z  INFO 480 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T18:45:31.702Z  INFO 480 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"fKPA-y7GzDU\",\n  \"timestamp\": 1735411515571\n}",
  "reqId": "1735411531701"
}
2024-12-28T18:45:31.703Z  INFO 480 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T18:45:31.739Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T18:45:31.739Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T18:45:31.740Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T18:45:31.740Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T18:45:31.740Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T18:45:52.467Z  INFO 480 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T18:45:52.467Z  INFO 480 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"hm6EBxfbKUQ\",\n  \"timestamp\": 1735411551902\n}",
  "reqId": "1735411552467"
}
2024-12-28T18:45:52.467Z  INFO 480 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T18:45:52.505Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T18:45:52.506Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T18:45:52.506Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T18:45:52.506Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T18:45:52.506Z  INFO 480 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T18:47:38.563Z  INFO 480 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:47:38.589Z  WARN 480 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T18:47:38.589Z  INFO 480 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T18:47:38.595Z  INFO 480 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T18:47:38.675Z  INFO 480 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T18:49:11.163Z  INFO 25212 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 25212 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T18:49:11.167Z  INFO 25212 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T18:49:11.935Z  INFO 25212 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T18:49:12.059Z  INFO 25212 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 108 ms. Found 2 JPA repository interfaces.
2024-12-28T18:49:12.716Z  INFO 25212 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T18:49:12.827Z  INFO 25212 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@44550792
2024-12-28T18:49:12.832Z  INFO 25212 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T18:49:12.944Z  INFO 25212 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T18:49:13.024Z  INFO 25212 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T18:49:13.072Z  INFO 25212 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T18:49:13.467Z  INFO 25212 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T18:49:13.546Z  INFO 25212 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T18:49:14.503Z  INFO 25212 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T18:49:14.542Z  INFO 25212 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:49:15.069Z  INFO 25212 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T18:49:15.148Z  INFO 25212 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.699 seconds (process running for 5.689)
2024-12-28T18:50:03.825Z  INFO 25212 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:50:03.831Z  INFO 25212 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T18:50:03.835Z  WARN 25212 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T18:50:03.835Z  INFO 25212 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T18:50:03.842Z  INFO 25212 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T18:50:12.725Z  INFO 19856 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 19856 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T18:50:12.730Z  INFO 19856 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T18:50:13.686Z  INFO 19856 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T18:50:13.851Z  INFO 19856 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 142 ms. Found 2 JPA repository interfaces.
2024-12-28T18:50:14.436Z  INFO 19856 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T18:50:14.541Z  INFO 19856 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@64469d8
2024-12-28T18:50:14.543Z  INFO 19856 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T18:50:14.662Z  INFO 19856 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T18:50:14.739Z  INFO 19856 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T18:50:14.800Z  INFO 19856 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T18:50:15.180Z  INFO 19856 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T18:50:15.265Z  INFO 19856 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T18:50:16.247Z  INFO 19856 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T18:50:16.284Z  INFO 19856 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T18:50:16.797Z  INFO 19856 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T18:50:16.876Z  INFO 19856 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 5.147 seconds (process running for 6.163)
2024-12-28T18:50:54.020Z  INFO 19856 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T18:50:54.021Z  INFO 19856 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T18:50:54.022Z  INFO 19856 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T18:50:54.023Z  INFO 19856 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-28T18:50:54.026Z  INFO 19856 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T18:50:54.026Z  INFO 19856 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T18:50:54.085Z  INFO 19856 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T18:50:54.085Z  INFO 19856 --- [WebSocketConnectReadThread-45] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735411854046",
  "operation": "initpair-response",
  "success": true
}
2024-12-28T18:51:00.337Z  INFO 19856 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T18:51:00.337Z  INFO 19856 --- [WebSocketConnectReadThread-45] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Diogo",
  "code": "Z9UyQOX2VRd6z/3kV0ini6U8orbESS+TJeAZ65/05EE\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"NcESF5hBvCA\",\n  \"timestamp\": 1735411859577\n}"
}
2024-12-28T18:51:00.338Z  INFO 19856 --- [WebSocketConnectReadThread-45] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-28T18:51:00.338Z  INFO 19856 --- [WebSocketConnectReadThread-45] s.c.service.MessageProcessorService      : Pairing code: Z9UyQOX2VRd6z/3kV0ini6U8orbESS+TJeAZ65/05EE=
2024-12-28T18:51:00.338Z  INFO 19856 --- [WebSocketConnectReadThread-45] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-28T18:51:00.391Z  INFO 19856 --- [WebSocketConnectReadThread-45] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-28T18:51:00.392Z  INFO 19856 --- [WebSocketConnectReadThread-45] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T18:51:00.427Z  INFO 19856 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T18:51:00.427Z  INFO 19856 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T18:51:00.428Z  INFO 19856 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T18:51:00.428Z  INFO 19856 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T18:51:00.428Z  INFO 19856 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T18:51:00.561Z  INFO 19856 --- [WebSocketConnectReadThread-45] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-28T18:51:08.515Z  INFO 19856 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T18:51:08.516Z  INFO 19856 --- [WebSocketConnectReadThread-45] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"kLzLlF1uEr8\",\n  \"timestamp\": 1735411868486\n}",
  "reqId": "1735411868513"
}
2024-12-28T18:51:08.516Z  INFO 19856 --- [WebSocketConnectReadThread-45] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T18:51:08.557Z  INFO 19856 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T18:51:08.557Z  INFO 19856 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T18:51:08.558Z  INFO 19856 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T18:51:08.558Z  INFO 19856 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T18:51:08.558Z  INFO 19856 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T19:00:51.737Z  INFO 19856 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:00:51.738Z  WARN 19856 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T19:00:51.738Z  INFO 19856 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T19:00:51.741Z  INFO 19856 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T19:00:51.743Z  INFO 19856 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T19:01:03.404Z  INFO 17956 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 17956 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T19:01:03.407Z  INFO 17956 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T19:01:04.176Z  INFO 17956 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T19:01:04.284Z  INFO 17956 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 93 ms. Found 2 JPA repository interfaces.
2024-12-28T19:01:04.770Z  INFO 17956 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T19:01:04.881Z  INFO 17956 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@20134094
2024-12-28T19:01:04.884Z  INFO 17956 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T19:01:05.048Z  INFO 17956 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T19:01:05.121Z  INFO 17956 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T19:01:05.171Z  INFO 17956 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T19:01:05.523Z  INFO 17956 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T19:01:05.590Z  INFO 17956 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T19:01:07.090Z  INFO 17956 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T19:01:07.152Z  INFO 17956 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:01:07.845Z  INFO 17956 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T19:01:07.960Z  INFO 17956 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 5.133 seconds (process running for 5.987)
2024-12-28T19:01:28.468Z  INFO 17956 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T19:01:28.468Z  INFO 17956 --- [WebSocketConnectReadThread-44] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"gokLe0jyQ18\",\n  \"timestamp\": 1735412487950\n}",
  "reqId": "1735412488460"
}
2024-12-28T19:01:28.476Z  INFO 17956 --- [WebSocketConnectReadThread-44] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T19:01:28.620Z  INFO 17956 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T19:01:28.620Z  INFO 17956 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T19:01:28.621Z  INFO 17956 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T19:01:28.621Z  INFO 17956 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T19:01:28.621Z  INFO 17956 --- [WebSocketConnectReadThread-44] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T19:03:58.286Z  INFO 17956 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:03:58.286Z  WARN 17956 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T19:03:58.287Z  INFO 17956 --- [WebSocketConnectReadThread-44] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T19:03:58.291Z  INFO 17956 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T19:03:58.294Z  INFO 17956 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T19:04:11.825Z  INFO 2716 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 2716 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T19:04:11.828Z  INFO 2716 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T19:04:12.397Z  INFO 2716 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T19:04:12.476Z  INFO 2716 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 68 ms. Found 2 JPA repository interfaces.
2024-12-28T19:04:12.802Z  INFO 2716 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T19:04:12.888Z  INFO 2716 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@5e519ad3
2024-12-28T19:04:12.890Z  INFO 2716 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T19:04:12.969Z  INFO 2716 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T19:04:13.031Z  INFO 2716 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T19:04:13.068Z  INFO 2716 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T19:04:13.357Z  INFO 2716 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T19:04:13.423Z  INFO 2716 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T19:04:14.413Z  INFO 2716 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T19:04:14.452Z  INFO 2716 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:04:14.975Z  INFO 2716 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T19:04:15.048Z  INFO 2716 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 3.869 seconds (process running for 6.838)
2024-12-28T19:06:10.071Z  INFO 2716 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T19:06:10.071Z  INFO 2716 --- [WebSocketConnectReadThread-43] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"VLKHnLN4Uks\",\n  \"timestamp\": 1735412662904\n}",
  "reqId": "1735412770067"
}
2024-12-28T19:06:30.373Z  INFO 2716 --- [WebSocketConnectReadThread-43] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T19:07:16.003Z  WARN 2716 --- [connectionLostChecker-1] s.carserver.config.CarWebSocketClient    : Connection closed: The connection was closed because the other endpoint did not respond with a pong in time. For more information check: https://github.com/TooTallNate/Java-WebSocket/wiki/Lost-connection-detection
2024-12-28T19:07:16.006Z  INFO 2716 --- [connectionLostChecker-1] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T19:07:21.778Z  INFO 2716 --- [Timer-0] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T19:07:21.787Z  INFO 2716 --- [WebSocketConnectReadThread-287] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T19:07:21.790Z  INFO 2716 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T19:07:21.793Z  INFO 2716 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T19:07:21.794Z  INFO 2716 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T19:07:21.795Z  INFO 2716 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T19:07:21.798Z  INFO 2716 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T19:08:06.691Z  WARN 2716 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m11s883ms641µs400ns).
2024-12-28T19:08:32.263Z  WARN 2716 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T19:08:32.264Z  INFO 2716 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Reconnecting in 2 seconds...
2024-12-28T19:08:34.805Z  INFO 2716 --- [Timer-1] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-28T19:08:46.768Z  INFO 2716 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:08:46.772Z  INFO 2716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T19:08:46.775Z  INFO 2716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T19:08:49.757Z  INFO 16932 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 16932 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T19:08:49.759Z  INFO 16932 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T19:08:50.283Z  INFO 16932 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T19:08:50.371Z  INFO 16932 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78 ms. Found 2 JPA repository interfaces.
2024-12-28T19:08:50.731Z  INFO 16932 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T19:08:50.822Z  INFO 16932 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@59072e9d
2024-12-28T19:08:50.825Z  INFO 16932 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T19:08:50.907Z  INFO 16932 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T19:08:50.983Z  INFO 16932 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T19:08:51.020Z  INFO 16932 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T19:08:51.358Z  INFO 16932 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T19:08:51.433Z  INFO 16932 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T19:08:52.480Z  INFO 16932 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T19:08:52.525Z  INFO 16932 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:08:53.198Z  INFO 16932 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.059 seconds (process running for 5.082)
2024-12-28T19:08:56.405Z  INFO 16932 --- [WebSocketConnectReadThread-42] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T19:08:56.443Z  INFO 16932 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:08:56.444Z  WARN 16932 --- [WebSocketConnectReadThread-42] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T19:08:56.445Z  INFO 16932 --- [WebSocketConnectReadThread-42] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T19:08:56.447Z  INFO 16932 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T19:08:56.451Z  INFO 16932 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T19:09:35.329Z  INFO 12280 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 12280 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T19:09:35.336Z  INFO 12280 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T19:09:36.446Z  INFO 12280 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T19:09:36.613Z  INFO 12280 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 140 ms. Found 2 JPA repository interfaces.
2024-12-28T19:09:37.144Z  INFO 12280 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T19:09:37.249Z  INFO 12280 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@467b684d
2024-12-28T19:09:37.253Z  INFO 12280 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T19:09:37.374Z  INFO 12280 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T19:09:37.459Z  INFO 12280 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T19:09:37.506Z  INFO 12280 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T19:09:37.786Z  INFO 12280 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T19:09:37.850Z  INFO 12280 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T19:09:38.750Z  INFO 12280 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T19:09:38.787Z  INFO 12280 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:09:39.328Z  INFO 12280 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T19:09:39.404Z  INFO 12280 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.821 seconds (process running for 6.118)
2024-12-28T19:10:56.237Z  INFO 12280 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T19:10:56.237Z  INFO 12280 --- [WebSocketConnectReadThread-45] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"k67DUUttl3I\",\n  \"timestamp\": 1735413026104\n}",
  "reqId": "1735413056235"
}
2024-12-28T19:11:01.025Z  INFO 12280 --- [WebSocketConnectReadThread-45] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T19:11:01.142Z  INFO 12280 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T19:11:01.142Z  INFO 12280 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T19:11:01.142Z  INFO 12280 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T19:11:01.142Z  INFO 12280 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T19:11:01.143Z  INFO 12280 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T19:11:33.102Z  INFO 12280 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:11:33.103Z  WARN 12280 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T19:11:33.103Z  INFO 12280 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T19:11:33.106Z  INFO 12280 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T19:11:33.109Z  INFO 12280 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T19:11:42.471Z  INFO 20668 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 20668 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T19:11:42.475Z  INFO 20668 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T19:11:43.630Z  INFO 20668 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T19:11:43.751Z  INFO 20668 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 106 ms. Found 2 JPA repository interfaces.
2024-12-28T19:11:44.213Z  INFO 20668 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T19:11:44.319Z  INFO 20668 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@3ee0b4f7
2024-12-28T19:11:44.323Z  INFO 20668 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T19:11:44.451Z  INFO 20668 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T19:11:44.543Z  INFO 20668 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T19:11:44.584Z  INFO 20668 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T19:11:44.886Z  INFO 20668 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T19:11:44.958Z  INFO 20668 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T19:11:45.933Z  INFO 20668 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T19:11:45.975Z  INFO 20668 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:11:46.519Z  INFO 20668 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T19:11:46.601Z  INFO 20668 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 5.025 seconds (process running for 6.269)
2024-12-28T19:12:03.895Z  INFO 20668 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T19:12:03.896Z  INFO 20668 --- [WebSocketConnectReadThread-45] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"dgKIJkQEnbM\",\n  \"timestamp\": 1735413112069\n}",
  "reqId": "1735413123881"
}
2024-12-28T19:12:03.907Z  INFO 20668 --- [WebSocketConnectReadThread-45] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T19:12:04.019Z  INFO 20668 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T19:12:04.019Z  INFO 20668 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T19:12:04.020Z  INFO 20668 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T19:12:04.020Z  INFO 20668 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T19:12:04.020Z  INFO 20668 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T19:12:58.660Z  INFO 20668 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:12:58.660Z  WARN 20668 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T19:12:58.661Z  INFO 20668 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T19:12:58.665Z  INFO 20668 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T19:12:58.668Z  INFO 20668 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T19:13:26.562Z  INFO 22496 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 22496 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T19:13:26.567Z  INFO 22496 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T19:13:27.540Z  INFO 22496 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T19:13:27.666Z  INFO 22496 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 109 ms. Found 2 JPA repository interfaces.
2024-12-28T19:13:28.134Z  INFO 22496 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T19:13:28.248Z  INFO 22496 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@337bbfdf
2024-12-28T19:13:28.250Z  INFO 22496 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T19:13:28.335Z  INFO 22496 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T19:13:28.405Z  INFO 22496 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T19:13:28.442Z  INFO 22496 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T19:13:28.790Z  INFO 22496 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T19:13:28.863Z  INFO 22496 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T19:13:29.926Z  INFO 22496 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T19:13:29.967Z  INFO 22496 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:13:30.502Z  INFO 22496 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T19:13:30.581Z  INFO 22496 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.96 seconds (process running for 6.3)
2024-12-28T19:14:06.490Z  INFO 22496 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T19:14:06.490Z  INFO 22496 --- [WebSocketConnectReadThread-46] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"BDhbCNgrdUU\",\n  \"timestamp\": 1735413221912\n}",
  "reqId": "1735413246476"
}
2024-12-28T19:14:06.497Z  INFO 22496 --- [WebSocketConnectReadThread-46] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T19:14:15.353Z  INFO 22496 --- [WebSocketConnectReadThread-46] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T19:14:15.356Z  INFO 22496 --- [WebSocketConnectReadThread-46] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T19:14:15.357Z  INFO 22496 --- [WebSocketConnectReadThread-46] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T19:14:15.358Z  INFO 22496 --- [WebSocketConnectReadThread-46] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T19:14:15.359Z  INFO 22496 --- [WebSocketConnectReadThread-46] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T19:14:43.569Z  WARN 22496 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=45s196ms443µs900ns).
2024-12-28T19:16:07.045Z  INFO 22496 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:16:07.046Z  WARN 22496 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T19:16:07.047Z  INFO 22496 --- [WebSocketConnectReadThread-46] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T19:16:07.051Z  INFO 22496 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T19:16:07.054Z  INFO 22496 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T19:16:19.001Z  INFO 2028 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 2028 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T19:16:19.009Z  INFO 2028 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T19:16:19.795Z  INFO 2028 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T19:16:19.998Z  INFO 2028 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 174 ms. Found 2 JPA repository interfaces.
2024-12-28T19:16:20.609Z  INFO 2028 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T19:16:20.730Z  INFO 2028 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@467b684d
2024-12-28T19:16:20.734Z  INFO 2028 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T19:16:20.825Z  INFO 2028 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T19:16:20.914Z  INFO 2028 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T19:16:20.955Z  INFO 2028 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T19:16:21.354Z  INFO 2028 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T19:16:21.432Z  INFO 2028 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T19:16:22.667Z  INFO 2028 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T19:16:22.722Z  INFO 2028 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:16:23.334Z  INFO 2028 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T19:16:23.412Z  INFO 2028 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 5.258 seconds (process running for 6.503)
2024-12-28T19:16:58.556Z  INFO 2028 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T19:16:58.556Z  INFO 2028 --- [WebSocketConnectReadThread-45] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"HASba6o4iAs\",\n  \"timestamp\": 1735413406640\n}",
  "reqId": "1735413418539"
}
2024-12-28T19:16:58.563Z  INFO 2028 --- [WebSocketConnectReadThread-45] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T19:17:00.804Z  INFO 2028 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T19:17:00.804Z  INFO 2028 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T19:17:00.805Z  INFO 2028 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T19:17:00.805Z  INFO 2028 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T19:17:00.805Z  INFO 2028 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T19:25:33.022Z  INFO 2028 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T19:25:33.023Z  INFO 2028 --- [WebSocketConnectReadThread-45] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"_PEZY9usngY\",\n  \"timestamp\": 1735413924171\n}",
  "reqId": "1735413933022"
}
2024-12-28T19:25:33.023Z  INFO 2028 --- [WebSocketConnectReadThread-45] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T19:25:33.892Z  INFO 2028 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T19:25:33.892Z  INFO 2028 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T19:25:33.892Z  INFO 2028 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T19:25:33.893Z  INFO 2028 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T19:25:33.893Z  INFO 2028 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T19:26:52.551Z  INFO 2028 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:26:52.553Z  WARN 2028 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T19:26:52.553Z  INFO 2028 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T19:26:52.556Z  INFO 2028 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T19:26:52.559Z  INFO 2028 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T19:28:19.614Z  INFO 13728 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 13728 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T19:28:19.622Z  INFO 13728 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T19:28:20.656Z  INFO 13728 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T19:28:20.785Z  INFO 13728 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 114 ms. Found 2 JPA repository interfaces.
2024-12-28T19:28:21.289Z  INFO 13728 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T19:28:21.403Z  INFO 13728 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@6cff61fc
2024-12-28T19:28:21.408Z  INFO 13728 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T19:28:21.521Z  INFO 13728 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T19:28:21.617Z  INFO 13728 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T19:28:21.658Z  INFO 13728 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T19:28:22.008Z  INFO 13728 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T19:28:22.082Z  INFO 13728 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T19:28:23.094Z  INFO 13728 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T19:28:23.138Z  INFO 13728 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:28:23.677Z  INFO 13728 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T19:28:23.761Z  INFO 13728 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 5.075 seconds (process running for 6.28)
2024-12-28T19:28:31.594Z  INFO 13728 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T19:28:31.594Z  INFO 13728 --- [WebSocketConnectReadThread-45] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"2LmGfyP9qCk\",\n  \"timestamp\": 1735414110937\n}",
  "reqId": "1735414111588"
}
2024-12-28T19:28:31.601Z  INFO 13728 --- [WebSocketConnectReadThread-45] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T19:28:31.712Z  INFO 13728 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T19:28:31.713Z  INFO 13728 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T19:28:31.713Z  INFO 13728 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T19:28:31.713Z  INFO 13728 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T19:28:31.714Z  INFO 13728 --- [WebSocketConnectReadThread-45] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T19:34:24.287Z  INFO 13728 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:34:24.288Z  WARN 13728 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T19:34:24.288Z  INFO 13728 --- [WebSocketConnectReadThread-45] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T19:34:24.293Z  INFO 13728 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T19:34:24.295Z  INFO 13728 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T19:34:42.475Z  INFO 8876 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 8876 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T19:34:42.476Z  INFO 8876 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T19:34:43.257Z  INFO 8876 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T19:34:43.395Z  INFO 8876 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 116 ms. Found 2 JPA repository interfaces.
2024-12-28T19:34:43.941Z  INFO 8876 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T19:34:44.118Z  INFO 8876 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@692e028d
2024-12-28T19:34:44.120Z  INFO 8876 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T19:34:44.226Z  INFO 8876 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T19:34:44.295Z  INFO 8876 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T19:34:44.348Z  INFO 8876 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T19:34:44.715Z  INFO 8876 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T19:34:44.787Z  INFO 8876 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T19:34:45.626Z  INFO 8876 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T19:34:45.660Z  INFO 8876 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:34:46.109Z  INFO 8876 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T19:34:46.191Z  INFO 8876 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.546 seconds (process running for 5.394)
2024-12-28T19:35:01.707Z  INFO 8876 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T19:35:01.707Z  INFO 8876 --- [WebSocketConnectReadThread-43] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"a4cUhRU0-10\",\n  \"timestamp\": 1735414501124\n}",
  "reqId": "1735414501702"
}
2024-12-28T19:35:01.711Z  INFO 8876 --- [WebSocketConnectReadThread-43] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T19:35:01.800Z  INFO 8876 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T19:35:01.801Z  INFO 8876 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T19:35:01.801Z  INFO 8876 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T19:35:01.801Z  INFO 8876 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T19:35:01.801Z  INFO 8876 --- [WebSocketConnectReadThread-43] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T19:37:12.901Z  INFO 8876 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:37:12.902Z  WARN 8876 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T19:37:12.903Z  INFO 8876 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T19:37:12.906Z  INFO 8876 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T19:37:12.909Z  INFO 8876 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-28T19:37:26.035Z  INFO 14276 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17.0.8 with PID 14276 (C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver\target\classes started by Miguel in C:\Users\Miguel\Projetos\SIRS\SIRS_MotorIST\Carserver)
2024-12-28T19:37:26.039Z  INFO 14276 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-28T19:37:26.737Z  INFO 14276 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-28T19:37:26.871Z  INFO 14276 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 117 ms. Found 2 JPA repository interfaces.
2024-12-28T19:37:27.412Z  INFO 14276 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-28T19:37:27.515Z  INFO 14276 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@2e807c54
2024-12-28T19:37:27.517Z  INFO 14276 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-28T19:37:27.625Z  INFO 14276 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-28T19:37:27.699Z  INFO 14276 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-28T19:37:27.748Z  INFO 14276 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-28T19:37:28.122Z  INFO 14276 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-28T19:37:28.191Z  INFO 14276 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-28T19:37:29.019Z  INFO 14276 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-28T19:37:29.054Z  INFO 14276 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:37:29.535Z  INFO 14276 --- [WebSocketConnectReadThread-42] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-28T19:37:29.601Z  INFO 14276 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.238 seconds (process running for 4.941)
2024-12-28T19:37:38.862Z  INFO 14276 --- [WebSocketConnectReadThread-42] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-28T19:37:38.862Z  INFO 14276 --- [WebSocketConnectReadThread-42] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "Diogo",
  "nonce": "{\n  \"base64Random\": \"71UNag6MABw\",\n  \"timestamp\": 1735414658291\n}",
  "reqId": "1735414658857"
}
2024-12-28T19:37:38.868Z  INFO 14276 --- [WebSocketConnectReadThread-42] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-28T19:37:38.955Z  INFO 14276 --- [WebSocketConnectReadThread-42] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-28T19:37:38.955Z  INFO 14276 --- [WebSocketConnectReadThread-42] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-28T19:37:38.955Z  INFO 14276 --- [WebSocketConnectReadThread-42] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-28T19:37:38.956Z  INFO 14276 --- [WebSocketConnectReadThread-42] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-28T19:37:38.956Z  INFO 14276 --- [WebSocketConnectReadThread-42] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-28T19:37:56.394Z  INFO 14276 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-28T19:37:56.395Z  WARN 14276 --- [WebSocketConnectReadThread-42] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-28T19:37:56.396Z  INFO 14276 --- [WebSocketConnectReadThread-42] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-28T19:37:56.400Z  INFO 14276 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-28T19:37:56.403Z  INFO 14276 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
