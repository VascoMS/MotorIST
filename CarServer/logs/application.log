2024-12-30T10:46:55.151Z  INFO 75648 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17 with PID 75648 (/Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer/target/classes started by vascosilva in /Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer)
2024-12-30T10:46:55.158Z  INFO 75648 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-30T10:46:55.824Z  INFO 75648 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-30T10:46:55.894Z  INFO 75648 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 2 JPA repository interfaces.
2024-12-30T10:46:56.286Z  INFO 75648 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-30T10:46:56.346Z  INFO 75648 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-30T10:46:56.381Z  INFO 75648 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-30T10:46:56.705Z  INFO 75648 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-30T10:46:56.740Z  INFO 75648 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-30T10:46:57.251Z  INFO 75648 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@54336976
2024-12-30T10:46:57.253Z  INFO 75648 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-30T10:46:57.295Z  INFO 75648 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-30T10:46:58.160Z  INFO 75648 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-30T10:46:58.194Z  INFO 75648 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T10:46:58.909Z  INFO 75648 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.238 seconds (process running for 4.7)
2024-12-30T10:46:59.097Z  INFO 75648 --- [WebSocketConnectReadThread-24] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T10:48:15.152Z  INFO 75648 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-30T10:48:15.152Z  INFO 75648 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-30T10:48:15.153Z  INFO 75648 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-30T10:48:15.153Z  INFO 75648 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-30T10:48:15.157Z  INFO 75648 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-30T10:48:15.158Z  INFO 75648 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-30T10:48:32.840Z  INFO 75648 --- [WebSocketConnectReadThread-24] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T10:48:32.841Z  INFO 75648 --- [WebSocketConnectReadThread-24] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735555695169",
  "operation": "initpair-response",
  "success": true
}
2024-12-30T10:48:44.676Z  INFO 75648 --- [WebSocketConnectReadThread-24] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T10:48:44.677Z  INFO 75648 --- [WebSocketConnectReadThread-24] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "vascs",
  "code": "XQow1+b2PF73N3mmOKieXnZd1pJGRU2cLEltLD3aXiU\u003d",
  "success": true,
  "nonce": "{\n  \"base64Random\": \"8zclXBagQAg\",\n  \"timestamp\": 1735555724593\n}"
}
2024-12-30T10:48:44.677Z  INFO 75648 --- [WebSocketConnectReadThread-24] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-30T10:48:44.678Z ERROR 75648 --- [WebSocketConnectReadThread-24] org.java_websocket.drafts.Draft_6455     : Runtime exception during onWebsocketMessage

java.lang.IllegalStateException: Not a JSON Object: "{\n  \"base64Random\": \"8zclXBagQAg\",\n  \"timestamp\": 1735555724593\n}"
	at com.google.gson.JsonElement.getAsJsonObject(JsonElement.java:165) ~[gson-2.11.0.jar:na]
	at sirs.carserver.service.MessageProcessorService.pairOperation(MessageProcessorService.java:80) ~[classes/:na]
	at sirs.carserver.service.MessageProcessorService.processMessage(MessageProcessorService.java:59) ~[classes/:na]
	at sirs.carserver.config.CarWebSocketClient.onMessage(CarWebSocketClient.java:45) ~[classes/:na]
	at org.java_websocket.client.WebSocketClient.onWebsocketMessage(WebSocketClient.java:636) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.drafts.Draft_6455.processFrameText(Draft_6455.java:963) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.drafts.Draft_6455.processFrame(Draft_6455.java:887) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.WebSocketImpl.decodeFrames(WebSocketImpl.java:401) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.WebSocketImpl.decode(WebSocketImpl.java:233) ~[Java-WebSocket-1.5.2.jar:na]
	at org.java_websocket.client.WebSocketClient.run(WebSocketClient.java:516) ~[Java-WebSocket-1.5.2.jar:na]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-12-30T10:48:44.683Z ERROR 75648 --- [WebSocketConnectReadThread-24] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Not a JSON Object: "{\n  \"base64Random\": \"8zclXBagQAg\",\n  \"timestamp\": 1735555724593\n}"
2024-12-30T10:48:44.683Z  INFO 75648 --- [WebSocketConnectReadThread-24] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-30T10:48:45.689Z  INFO 75648 --- [Timer-0] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T10:48:45.694Z  WARN 75648 --- [WebSocketConnectReadThread-24] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T10:48:45.694Z  INFO 75648 --- [WebSocketConnectReadThread-24] s.carserver.config.CarWebSocketClient    : Reconnecting in 2 seconds...
2024-12-30T10:48:45.727Z  INFO 75648 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T10:48:47.698Z  INFO 75648 --- [Timer-1] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T10:48:47.700Z  WARN 75648 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T10:48:47.700Z  INFO 75648 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Reconnecting in 3 seconds...
2024-12-30T10:48:47.726Z  INFO 75648 --- [WebSocketConnectReadThread-34] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T10:48:50.705Z  INFO 75648 --- [Timer-2] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T10:48:50.707Z  WARN 75648 --- [WebSocketConnectReadThread-34] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T10:48:50.708Z  INFO 75648 --- [WebSocketConnectReadThread-34] s.carserver.config.CarWebSocketClient    : Reconnecting in 4 seconds...
2024-12-30T10:48:50.736Z  INFO 75648 --- [WebSocketConnectReadThread-38] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T10:48:54.711Z  INFO 75648 --- [Timer-3] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T10:48:54.713Z  WARN 75648 --- [WebSocketConnectReadThread-38] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T10:48:54.713Z  INFO 75648 --- [WebSocketConnectReadThread-38] s.carserver.config.CarWebSocketClient    : Reconnecting in 5 seconds...
2024-12-30T10:48:54.741Z  INFO 75648 --- [WebSocketConnectReadThread-42] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T10:48:59.718Z  INFO 75648 --- [Timer-4] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T10:48:59.720Z  WARN 75648 --- [WebSocketConnectReadThread-42] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T10:48:59.720Z ERROR 75648 --- [WebSocketConnectReadThread-42] s.carserver.config.CarWebSocketClient    : Max reconnect attempts reached. Giving up and shutting down...
2024-12-30T10:48:59.725Z  INFO 75648 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T10:48:59.729Z  INFO 75648 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-30T10:48:59.731Z  INFO 75648 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-30T10:57:41.381Z  INFO 76845 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17 with PID 76845 (/Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer/target/classes started by vascosilva in /Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer)
2024-12-30T10:57:41.383Z  INFO 76845 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-30T10:57:42.020Z  INFO 76845 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-30T10:57:42.082Z  INFO 76845 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 2 JPA repository interfaces.
2024-12-30T10:57:42.495Z  INFO 76845 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-30T10:57:42.551Z  INFO 76845 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-30T10:57:42.587Z  INFO 76845 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-30T10:57:42.904Z  INFO 76845 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-30T10:57:42.934Z  INFO 76845 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-30T10:57:43.430Z  INFO 76845 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@6cbe68e9
2024-12-30T10:57:43.432Z  INFO 76845 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-30T10:57:43.477Z  INFO 76845 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-30T10:57:44.322Z  INFO 76845 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-30T10:57:44.354Z  INFO 76845 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T10:57:45.143Z  INFO 76845 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.403 seconds (process running for 4.849)
2024-12-30T10:57:45.218Z  INFO 76845 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T10:58:16.346Z  INFO 76845 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-30T10:58:16.347Z  INFO 76845 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-30T10:58:16.348Z  INFO 76845 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-30T10:58:16.348Z  INFO 76845 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-30T10:58:16.351Z  INFO 76845 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-30T10:58:16.352Z  INFO 76845 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-30T10:58:16.388Z  INFO 76845 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T10:58:16.388Z  INFO 76845 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735556296365",
  "operation": "initpair-response",
  "success": true
}
2024-12-30T10:58:25.678Z  INFO 76845 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T10:58:25.678Z  INFO 76845 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "vascs",
  "code": "0E01I+pfS8HmFs2TLP1U26sf53A1KxtJX2rhHuVYXr8\u003d",
  "success": false,
  "nonce": {
    "base64Random": "6j996YPgW8E",
    "timestamp": 1735556305620
  }
}
2024-12-30T10:58:25.679Z  INFO 76845 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-30T10:58:25.680Z  INFO 76845 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-30T10:58:25.680Z  INFO 76845 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Pair failed: Server code matches: true | User input matches: false | Nonce valid: true
2024-12-30T11:05:28.756Z  INFO 76845 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-30T11:05:28.758Z  INFO 76845 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-30T11:05:28.758Z  INFO 76845 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-30T11:05:28.759Z  INFO 76845 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-30T11:05:28.759Z  INFO 76845 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-30T11:05:28.760Z  INFO 76845 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-30T11:05:28.765Z  INFO 76845 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T11:05:28.765Z  INFO 76845 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735556728760",
  "operation": "initpair-response",
  "success": true
}
2024-12-30T11:05:35.899Z  INFO 76845 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T11:05:35.899Z  INFO 76845 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "vascs",
  "code": "Pcg5VeUh+3sdxwbNfwIjkaUtkOUa44p4cC+pL9v80OU\u003d",
  "success": true,
  "nonce": {
    "base64Random": "g3zEgxIrIOM",
    "timestamp": 1735556735850
  }
}
2024-12-30T11:05:35.900Z  INFO 76845 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-30T11:05:35.900Z  INFO 76845 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-30T11:05:35.901Z  INFO 76845 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Pairing code: Pcg5VeUh+3sdxwbNfwIjkaUtkOUa44p4cC+pL9v80OU=
2024-12-30T11:05:35.901Z  INFO 76845 --- [WebSocketConnectReadThread-22] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-30T11:05:35.942Z  INFO 76845 --- [WebSocketConnectReadThread-22] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-30T11:05:35.943Z  INFO 76845 --- [WebSocketConnectReadThread-22] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-30T11:05:35.957Z  INFO 76845 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-30T11:05:35.957Z  INFO 76845 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-30T11:05:35.957Z  INFO 76845 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-30T11:05:35.957Z  INFO 76845 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-30T11:05:35.957Z  INFO 76845 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-30T11:05:36.072Z  INFO 76845 --- [WebSocketConnectReadThread-22] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-30T11:34:47.113Z  WARN 76845 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T11:34:47.117Z  INFO 76845 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-30T11:34:48.120Z  INFO 76845 --- [Timer-0] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T11:34:48.130Z ERROR 76845 --- [WebSocketConnectReadThread-37] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T11:34:48.131Z  INFO 76845 --- [WebSocketConnectReadThread-37] s.carserver.config.CarWebSocketClient    : Reconnecting in 2 seconds...
2024-12-30T11:34:48.132Z  WARN 76845 --- [WebSocketConnectReadThread-37] s.carserver.config.CarWebSocketClient    : Connection closed: Connection refused
2024-12-30T11:34:48.132Z  INFO 76845 --- [WebSocketConnectReadThread-37] s.carserver.config.CarWebSocketClient    : Reconnecting in 3 seconds...
2024-12-30T11:34:51.134Z  INFO 76845 --- [Timer-2] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T11:34:51.138Z ERROR 76845 --- [WebSocketConnectReadThread-40] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T11:34:51.158Z  INFO 76845 --- [WebSocketConnectReadThread-40] s.carserver.config.CarWebSocketClient    : Reconnecting in 4 seconds...
2024-12-30T11:34:51.162Z  WARN 76845 --- [WebSocketConnectReadThread-40] s.carserver.config.CarWebSocketClient    : Connection closed: Connection refused
2024-12-30T11:34:51.181Z  INFO 76845 --- [WebSocketConnectReadThread-40] s.carserver.config.CarWebSocketClient    : Reconnecting in 5 seconds...
2024-12-30T11:34:56.184Z  INFO 76845 --- [Timer-4] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T11:34:56.454Z  INFO 76845 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T11:38:04.707Z  INFO 76845 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-30T11:38:04.708Z  INFO 76845 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-30T11:38:04.709Z  INFO 76845 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-30T11:38:04.709Z  INFO 76845 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-30T11:38:04.709Z  INFO 76845 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-30T11:38:04.710Z  INFO 76845 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-30T11:38:04.735Z  INFO 76845 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T11:38:04.735Z  INFO 76845 --- [WebSocketConnectReadThread-43] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735558684711",
  "operation": "initpair-response",
  "success": true
}
2024-12-30T11:38:34.457Z  WARN 76845 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T11:38:34.457Z ERROR 76845 --- [WebSocketConnectReadThread-43] s.carserver.config.CarWebSocketClient    : Max reconnect attempts reached. Giving up and shutting down...
2024-12-30T11:38:34.470Z  INFO 76845 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T11:38:34.482Z  INFO 76845 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-30T11:38:34.485Z  INFO 76845 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-30T11:38:47.354Z  INFO 81850 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17 with PID 81850 (/Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer/target/classes started by vascosilva in /Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer)
2024-12-30T11:38:47.357Z  INFO 81850 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-30T11:38:48.010Z  INFO 81850 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-30T11:38:48.069Z  INFO 81850 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 2 JPA repository interfaces.
2024-12-30T11:38:48.420Z  INFO 81850 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-30T11:38:48.478Z  INFO 81850 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-30T11:38:48.514Z  INFO 81850 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-30T11:38:48.829Z  INFO 81850 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-30T11:38:48.860Z  INFO 81850 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-30T11:38:49.333Z  INFO 81850 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@47148f3f
2024-12-30T11:38:49.335Z  INFO 81850 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-30T11:38:49.375Z  INFO 81850 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-30T11:38:50.223Z  INFO 81850 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-30T11:38:50.256Z  INFO 81850 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T11:38:50.900Z  INFO 81850 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.035 seconds (process running for 4.439)
2024-12-30T11:38:51.061Z  INFO 81850 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T11:39:15.740Z  INFO 81850 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-30T11:39:15.741Z  INFO 81850 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-30T11:39:15.741Z  INFO 81850 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-30T11:39:15.741Z  INFO 81850 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-30T11:39:15.744Z  INFO 81850 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-30T11:39:15.745Z  INFO 81850 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-30T11:39:15.778Z  INFO 81850 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T11:39:15.778Z  INFO 81850 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735558755756",
  "operation": "initpair-response",
  "success": true
}
2024-12-30T11:39:23.037Z  INFO 81850 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T11:39:23.048Z  INFO 81850 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "vascs",
  "code": "46gfUfgIWUS0OoXznJp72rLV5VJYTNGQpny0axF0Mi8\u003d",
  "success": true,
  "nonce": {
    "base64Random": "si1KadahDWA",
    "timestamp": 1735558762977
  }
}
2024-12-30T11:39:23.049Z  INFO 81850 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-30T11:39:23.050Z  INFO 81850 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-30T11:39:23.050Z  INFO 81850 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Pairing code: 46gfUfgIWUS0OoXznJp72rLV5VJYTNGQpny0axF0Mi8=
2024-12-30T11:39:23.050Z  INFO 81850 --- [WebSocketConnectReadThread-22] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-30T11:39:23.111Z  INFO 81850 --- [WebSocketConnectReadThread-22] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-30T11:39:23.113Z  INFO 81850 --- [WebSocketConnectReadThread-22] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-30T11:39:23.126Z  INFO 81850 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-30T11:39:23.137Z  INFO 81850 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-30T11:39:23.137Z  INFO 81850 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-30T11:39:23.137Z  INFO 81850 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-30T11:39:23.138Z  INFO 81850 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-30T11:39:23.238Z  INFO 81850 --- [WebSocketConnectReadThread-22] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-30T11:40:47.381Z  WARN 81850 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T11:40:47.382Z  INFO 81850 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-30T11:40:48.385Z  INFO 81850 --- [Timer-0] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T11:40:48.390Z ERROR 81850 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T11:40:48.390Z  INFO 81850 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Reconnecting in 2 seconds...
2024-12-30T11:40:48.390Z  WARN 81850 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Connection closed: Connection refused
2024-12-30T11:40:48.391Z  INFO 81850 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Reconnecting in 3 seconds...
2024-12-30T11:40:51.396Z  INFO 81850 --- [Timer-2] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T11:40:51.592Z  INFO 81850 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T11:43:01.985Z  WARN 81850 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T11:43:01.987Z  INFO 81850 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Reconnecting in 4 seconds...
2024-12-30T11:43:05.991Z  INFO 81850 --- [Timer-3] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T11:43:05.993Z ERROR 81850 --- [WebSocketConnectReadThread-34] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T11:43:05.993Z  INFO 81850 --- [WebSocketConnectReadThread-34] s.carserver.config.CarWebSocketClient    : Reconnecting in 5 seconds...
2024-12-30T11:43:05.993Z  WARN 81850 --- [WebSocketConnectReadThread-34] s.carserver.config.CarWebSocketClient    : Connection closed: Connection refused
2024-12-30T11:43:05.993Z ERROR 81850 --- [WebSocketConnectReadThread-34] s.carserver.config.CarWebSocketClient    : Max reconnect attempts reached. Giving up and shutting down...
2024-12-30T11:43:06.005Z  INFO 81850 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T11:43:06.016Z  INFO 81850 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-30T11:43:06.020Z  INFO 81850 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-30T11:43:22.829Z  INFO 82380 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17 with PID 82380 (/Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer/target/classes started by vascosilva in /Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer)
2024-12-30T11:43:22.831Z  INFO 82380 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-30T11:43:23.443Z  INFO 82380 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-30T11:43:23.520Z  INFO 82380 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 2 JPA repository interfaces.
2024-12-30T11:43:23.862Z  INFO 82380 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-30T11:43:23.917Z  INFO 82380 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-30T11:43:23.951Z  INFO 82380 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-30T11:43:24.247Z  INFO 82380 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-30T11:43:24.278Z  INFO 82380 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-30T11:43:24.764Z  INFO 82380 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@6cbe68e9
2024-12-30T11:43:24.766Z  INFO 82380 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-30T11:43:24.809Z  INFO 82380 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-30T11:43:25.657Z  INFO 82380 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-30T11:43:25.691Z  INFO 82380 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T11:43:26.376Z  INFO 82380 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 3.94 seconds (process running for 4.323)
2024-12-30T11:43:26.559Z  INFO 82380 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T11:44:00.217Z  WARN 82380 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T11:44:00.218Z  INFO 82380 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-30T11:44:01.223Z  INFO 82380 --- [Timer-0] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T11:44:01.227Z ERROR 82380 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T11:44:01.228Z  INFO 82380 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Reconnecting in 2 seconds...
2024-12-30T11:44:01.229Z  WARN 82380 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Connection closed: Connection refused
2024-12-30T11:44:01.229Z  INFO 82380 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Reconnecting in 3 seconds...
2024-12-30T11:44:04.235Z  INFO 82380 --- [Timer-2] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T11:44:04.236Z ERROR 82380 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T11:44:04.237Z  INFO 82380 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Reconnecting in 4 seconds...
2024-12-30T11:44:04.237Z  WARN 82380 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Connection closed: Connection refused
2024-12-30T11:44:04.237Z  INFO 82380 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Reconnecting in 5 seconds...
2024-12-30T11:44:09.242Z  INFO 82380 --- [Timer-4] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T11:44:09.244Z ERROR 82380 --- [WebSocketConnectReadThread-33] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T11:44:09.245Z ERROR 82380 --- [WebSocketConnectReadThread-33] s.carserver.config.CarWebSocketClient    : Max reconnect attempts reached. Giving up and shutting down...
2024-12-30T11:44:09.251Z  INFO 82380 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T11:44:09.256Z  INFO 82380 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-30T11:44:09.263Z  INFO 82380 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-30T11:44:46.184Z  INFO 82716 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17 with PID 82716 (/Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer/target/classes started by vascosilva in /Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer)
2024-12-30T11:44:46.187Z  INFO 82716 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-30T11:44:46.903Z  INFO 82716 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-30T11:44:46.976Z  INFO 82716 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 2 JPA repository interfaces.
2024-12-30T11:44:47.397Z  INFO 82716 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-30T11:44:47.470Z  INFO 82716 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-30T11:44:47.515Z  INFO 82716 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-30T11:44:47.866Z  INFO 82716 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-30T11:44:47.908Z  INFO 82716 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-30T11:44:48.544Z  INFO 82716 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@51fc862e
2024-12-30T11:44:48.546Z  INFO 82716 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-30T11:44:48.610Z  INFO 82716 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-30T11:44:49.600Z  INFO 82716 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-30T11:44:49.647Z  INFO 82716 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T11:44:50.469Z  INFO 82716 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.711 seconds (process running for 5.174)
2024-12-30T11:44:50.692Z  INFO 82716 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T11:45:09.135Z  INFO 82716 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-30T11:45:09.136Z  INFO 82716 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-30T11:45:09.137Z  INFO 82716 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-30T11:45:09.137Z  INFO 82716 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-30T11:45:09.140Z  INFO 82716 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-30T11:45:09.141Z  INFO 82716 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-30T11:45:09.180Z  INFO 82716 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T11:45:09.180Z  INFO 82716 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735559109156",
  "operation": "initpair-response",
  "success": true
}
2024-12-30T11:49:30.391Z  WARN 82716 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T11:49:30.393Z  INFO 82716 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-30T11:49:31.394Z  INFO 82716 --- [Timer-0] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T11:49:31.407Z ERROR 82716 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T11:49:31.407Z  INFO 82716 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Reconnecting in 2 seconds...
2024-12-30T11:49:31.408Z  WARN 82716 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Connection closed: Connection refused
2024-12-30T11:49:31.408Z  INFO 82716 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Reconnecting in 3 seconds...
2024-12-30T11:49:34.413Z  INFO 82716 --- [Timer-2] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T11:49:34.415Z ERROR 82716 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T11:49:34.416Z  INFO 82716 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Reconnecting in 4 seconds...
2024-12-30T11:49:34.417Z  WARN 82716 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Connection closed: Connection refused
2024-12-30T11:49:34.417Z  INFO 82716 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Reconnecting in 5 seconds...
2024-12-30T11:49:39.421Z  INFO 82716 --- [Timer-4] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T11:49:39.595Z  INFO 82716 --- [WebSocketConnectReadThread-33] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T11:51:05.604Z  WARN 82716 --- [WebSocketConnectReadThread-33] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T11:51:05.605Z ERROR 82716 --- [WebSocketConnectReadThread-33] s.carserver.config.CarWebSocketClient    : Max reconnect attempts reached. Giving up and shutting down...
2024-12-30T11:51:05.609Z  INFO 82716 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T11:51:05.617Z  INFO 82716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-30T11:51:05.619Z  INFO 82716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-30T11:51:27.446Z  INFO 83481 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17 with PID 83481 (/Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer/target/classes started by vascosilva in /Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer)
2024-12-30T11:51:27.448Z  INFO 83481 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-30T11:51:28.087Z  INFO 83481 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-30T11:51:28.166Z  INFO 83481 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67 ms. Found 2 JPA repository interfaces.
2024-12-30T11:51:28.489Z  INFO 83481 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-30T11:51:28.547Z  INFO 83481 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-30T11:51:28.587Z  INFO 83481 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-30T11:51:28.900Z  INFO 83481 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-30T11:51:28.929Z  INFO 83481 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-30T11:51:29.443Z  INFO 83481 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@39de9bda
2024-12-30T11:51:29.445Z  INFO 83481 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-30T11:51:29.494Z  INFO 83481 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-30T11:51:30.537Z  INFO 83481 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-30T11:51:30.578Z  INFO 83481 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T11:51:31.318Z  INFO 83481 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.322 seconds (process running for 4.746)
2024-12-30T11:51:31.503Z  INFO 83481 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T11:54:50.063Z  WARN 83481 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T11:54:50.067Z  INFO 83481 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-30T11:54:50.606Z  INFO 83481 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T11:54:50.623Z  INFO 83481 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-30T11:54:50.630Z  INFO 83481 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-30T11:57:27.227Z  INFO 84258 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17 with PID 84258 (/Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer/target/classes started by vascosilva in /Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer)
2024-12-30T11:57:27.230Z  INFO 84258 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-30T11:57:27.880Z  INFO 84258 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-30T11:57:27.943Z  INFO 84258 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 2 JPA repository interfaces.
2024-12-30T11:57:28.246Z  INFO 84258 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-30T11:57:28.289Z  INFO 84258 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-30T11:57:28.319Z  INFO 84258 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-30T11:57:28.598Z  INFO 84258 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-30T11:57:28.632Z  INFO 84258 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-30T11:57:29.160Z  INFO 84258 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@5fcd1c5f
2024-12-30T11:57:29.162Z  INFO 84258 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-30T11:57:29.198Z  INFO 84258 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-30T11:57:29.972Z  INFO 84258 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-30T11:57:30.002Z  INFO 84258 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T11:57:30.677Z  INFO 84258 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 3.852 seconds (process running for 4.31)
2024-12-30T11:57:30.910Z  INFO 84258 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T12:10:23.742Z  WARN 84258 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T12:10:23.743Z  INFO 84258 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-30T12:10:24.749Z  INFO 84258 --- [Timer-0] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T12:10:24.752Z ERROR 84258 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T12:10:24.753Z  INFO 84258 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Reconnecting in 2 seconds...
2024-12-30T12:10:24.754Z  WARN 84258 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Connection closed: Connection refused
2024-12-30T12:10:24.754Z  INFO 84258 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Reconnecting in 3 seconds...
2024-12-30T12:10:27.754Z  INFO 84258 --- [Timer-2] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T12:10:27.756Z ERROR 84258 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T12:10:27.756Z  INFO 84258 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Reconnecting in 4 seconds...
2024-12-30T12:10:27.757Z  WARN 84258 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Connection closed: Connection refused
2024-12-30T12:10:27.758Z  INFO 84258 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Reconnecting in 5 seconds...
2024-12-30T12:10:32.760Z  INFO 84258 --- [Timer-4] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T12:10:32.762Z ERROR 84258 --- [WebSocketConnectReadThread-33] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T12:10:32.763Z ERROR 84258 --- [WebSocketConnectReadThread-33] s.carserver.config.CarWebSocketClient    : Max reconnect attempts reached. Giving up and shutting down...
2024-12-30T12:10:32.770Z  INFO 84258 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T12:10:32.775Z  INFO 84258 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-30T12:10:32.778Z  INFO 84258 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-30T12:11:03.408Z  INFO 85778 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17 with PID 85778 (/Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer/target/classes started by vascosilva in /Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer)
2024-12-30T12:11:03.411Z  INFO 85778 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-30T12:11:04.114Z  INFO 85778 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-30T12:11:04.185Z  INFO 85778 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 2 JPA repository interfaces.
2024-12-30T12:11:04.551Z  INFO 85778 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-30T12:11:04.619Z  INFO 85778 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-30T12:11:04.657Z  INFO 85778 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-30T12:11:05.039Z  INFO 85778 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-30T12:11:05.072Z  INFO 85778 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-30T12:11:05.591Z  INFO 85778 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@49e2b3c5
2024-12-30T12:11:05.593Z  INFO 85778 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-30T12:11:05.641Z  INFO 85778 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-30T12:11:06.644Z  INFO 85778 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-30T12:11:06.681Z  INFO 85778 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T12:11:07.518Z  INFO 85778 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.614 seconds (process running for 5.12)
2024-12-30T12:11:07.686Z  INFO 85778 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T12:12:07.747Z  WARN 85778 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T12:12:07.748Z  INFO 85778 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-30T12:12:08.753Z  INFO 85778 --- [Timer-0] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T12:12:08.755Z ERROR 85778 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T12:12:08.756Z  INFO 85778 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Reconnecting in 2 seconds...
2024-12-30T12:12:08.756Z  WARN 85778 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Connection closed: Connection refused
2024-12-30T12:12:08.756Z  INFO 85778 --- [WebSocketConnectReadThread-27] s.carserver.config.CarWebSocketClient    : Reconnecting in 3 seconds...
2024-12-30T12:12:11.756Z  INFO 85778 --- [Timer-2] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T12:12:11.758Z ERROR 85778 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T12:12:11.758Z  INFO 85778 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Reconnecting in 4 seconds...
2024-12-30T12:12:11.759Z  WARN 85778 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Connection closed: Connection refused
2024-12-30T12:12:11.759Z  INFO 85778 --- [WebSocketConnectReadThread-30] s.carserver.config.CarWebSocketClient    : Reconnecting in 5 seconds...
2024-12-30T12:12:16.764Z  INFO 85778 --- [Timer-4] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T12:12:16.919Z  INFO 85778 --- [WebSocketConnectReadThread-33] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T12:14:06.431Z  INFO 85778 --- [WebSocketConnectReadThread-33] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T12:14:06.432Z  INFO 85778 --- [WebSocketConnectReadThread-33] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "generalcarinfo",
  "userId": "vascs",
  "nonce": {
    "base64Random": "iMIjjY7PeKg",
    "timestamp": 1735560846378
  },
  "reqId": "1735560846424"
}
2024-12-30T12:14:06.442Z  INFO 85778 --- [WebSocketConnectReadThread-33] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-30T12:14:06.443Z  INFO 85778 --- [WebSocketConnectReadThread-33] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-30T12:14:06.560Z  INFO 85778 --- [WebSocketConnectReadThread-33] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-30T12:14:06.560Z  INFO 85778 --- [WebSocketConnectReadThread-33] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-30T12:14:06.561Z  INFO 85778 --- [WebSocketConnectReadThread-33] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-30T12:14:06.561Z  INFO 85778 --- [WebSocketConnectReadThread-33] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-30T12:14:06.561Z  INFO 85778 --- [WebSocketConnectReadThread-33] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-30T12:14:46.137Z  INFO 85778 --- [WebSocketConnectReadThread-33] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T12:14:46.137Z  INFO 85778 --- [WebSocketConnectReadThread-33] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "updateconfig",
  "userId": "vascs",
  "content": "BeY2AieubL6dwlT0963ADNSxThAWvjuL5XE/0mG23tvAk1mD6DJ0CKrXelgJ5j3Uo5q1kDB2MBxGXkpnLPFObbsez2QgOPBKTJvCJOhqP0hqtOTG7vnmx36m+cAF7xLi",
  "iv": "vjQoyqf0z59iIATqtWcMqg\u003d\u003d",
  "nonce": {
    "base64Random": "mRRu34lG9CU",
    "timestamp": 1735560886122
  },
  "hmac": "SK+klJSjnOFae7gMczICMgNEsO5JXXNY3EAD0gy5Kps\u003d",
  "reqId": "1735560886136"
}
2024-12-30T12:14:46.139Z  INFO 85778 --- [WebSocketConnectReadThread-33] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-30T12:14:46.256Z  INFO 85778 --- [WebSocketConnectReadThread-33] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-30T12:14:46.259Z  INFO 85778 --- [WebSocketConnectReadThread-33] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-30T12:14:46.259Z  INFO 85778 --- [WebSocketConnectReadThread-33] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: SK+klJSjnOFae7gMczICMgNEsO5JXXNY3EAD0gy5Kps=
2024-12-30T12:14:46.260Z  INFO 85778 --- [WebSocketConnectReadThread-33] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: SK+klJSjnOFae7gMczICMgNEsO5JXXNY3EAD0gy5Kps=
2024-12-30T12:14:46.260Z  INFO 85778 --- [WebSocketConnectReadThread-33] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-30T12:14:46.260Z  INFO 85778 --- [WebSocketConnectReadThread-33] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-30T12:14:46.266Z  INFO 85778 --- [WebSocketConnectReadThread-33] sirs.carserver.service.UserService       : Successfully updated the config
2024-12-30T12:14:46.267Z  INFO 85778 --- [WebSocketConnectReadThread-33] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-30T12:25:40.262Z  WARN 85778 --- [WebSocketConnectReadThread-33] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T12:25:40.263Z ERROR 85778 --- [WebSocketConnectReadThread-33] s.carserver.config.CarWebSocketClient    : Max reconnect attempts reached. Giving up and shutting down...
2024-12-30T12:25:40.267Z  INFO 85778 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T12:25:40.270Z  INFO 85778 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-30T12:25:40.273Z  INFO 85778 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-30T12:28:10.692Z  INFO 88274 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17 with PID 88274 (/Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer/target/classes started by vascosilva in /Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer)
2024-12-30T12:28:10.694Z  INFO 88274 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-30T12:28:11.362Z  INFO 88274 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-30T12:28:11.430Z  INFO 88274 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 2 JPA repository interfaces.
2024-12-30T12:28:11.762Z  INFO 88274 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-30T12:28:11.834Z  INFO 88274 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-30T12:28:11.873Z  INFO 88274 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-30T12:28:12.239Z  INFO 88274 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-30T12:28:12.278Z  INFO 88274 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-30T12:28:12.785Z  INFO 88274 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@a7cf42f
2024-12-30T12:28:12.787Z  INFO 88274 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-30T12:28:12.832Z  INFO 88274 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-30T12:28:13.789Z  INFO 88274 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-30T12:28:13.820Z  INFO 88274 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T12:28:14.529Z  INFO 88274 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.266 seconds (process running for 4.68)
2024-12-30T12:28:14.683Z  INFO 88274 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T12:33:15.349Z  INFO 88274 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-30T12:33:15.350Z  INFO 88274 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-30T12:33:15.350Z  INFO 88274 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-30T12:33:15.351Z  INFO 88274 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-30T12:33:15.354Z  INFO 88274 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-30T12:33:15.354Z  INFO 88274 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-30T12:33:15.383Z  INFO 88274 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T12:33:15.383Z  INFO 88274 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735561995365",
  "operation": "initpair-response",
  "success": true
}
2024-12-30T12:34:56.989Z  WARN 88274 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T12:34:56.990Z  INFO 88274 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-30T12:34:57.087Z  INFO 88274 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T12:34:57.090Z  INFO 88274 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-30T12:34:57.094Z  INFO 88274 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-30T12:35:18.529Z  INFO 89061 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17 with PID 89061 (/Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer/target/classes started by vascosilva in /Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer)
2024-12-30T12:35:18.531Z  INFO 89061 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-30T12:35:19.332Z  INFO 89061 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-30T12:35:19.427Z  INFO 89061 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 79 ms. Found 2 JPA repository interfaces.
2024-12-30T12:35:19.823Z  INFO 89061 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-30T12:35:19.889Z  INFO 89061 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-30T12:35:19.931Z  INFO 89061 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-30T12:35:20.288Z  INFO 89061 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-30T12:35:20.324Z  INFO 89061 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-30T12:35:20.931Z  INFO 89061 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@39de9bda
2024-12-30T12:35:20.933Z  INFO 89061 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-30T12:35:20.977Z  INFO 89061 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-30T12:35:22.002Z  INFO 89061 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-30T12:35:22.038Z  INFO 89061 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T12:35:22.815Z  INFO 89061 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.826 seconds (process running for 5.409)
2024-12-30T12:35:22.975Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T12:35:36.576Z  INFO 89061 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-30T12:35:36.577Z  INFO 89061 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-30T12:35:36.577Z  INFO 89061 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-30T12:35:36.577Z  INFO 89061 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-30T12:35:36.580Z  INFO 89061 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-30T12:35:36.580Z  INFO 89061 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-30T12:35:36.614Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T12:35:36.615Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735562136591",
  "operation": "initpair-response",
  "success": true
}
2024-12-30T12:35:41.464Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T12:35:41.464Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "Jazz",
  "code": "k+n1hsbR6dd3qgcnA3D3WLnSrRWoPcQEibSKqPrs+5k\u003d",
  "success": true,
  "nonce": {
    "base64Random": "LeqE5yVscg4",
    "timestamp": 1735562141411
  }
}
2024-12-30T12:35:41.465Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-30T12:35:41.465Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-30T12:35:41.466Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Pairing code: k+n1hsbR6dd3qgcnA3D3WLnSrRWoPcQEibSKqPrs+5k=
2024-12-30T12:35:41.466Z  INFO 89061 --- [WebSocketConnectReadThread-22] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-30T12:35:41.499Z  INFO 89061 --- [WebSocketConnectReadThread-22] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-30T12:35:41.500Z  INFO 89061 --- [WebSocketConnectReadThread-22] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-30T12:35:41.513Z  INFO 89061 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-30T12:35:41.513Z  INFO 89061 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-30T12:35:41.514Z  INFO 89061 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-30T12:35:41.514Z  INFO 89061 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-30T12:35:41.514Z  INFO 89061 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-30T12:35:41.619Z  INFO 89061 --- [WebSocketConnectReadThread-22] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-30T12:37:20.789Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T12:37:20.790Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "updateconfig",
  "userId": "Jazz",
  "content": "9mO7rIi/g5P6/O9F9nUxNzNIyGqEr++LVVwDaIMeJhgOjZjsGBHxcuqTNyoJOxdhViKjGt1tcKdTjdF+n1jIM1r9yr9RDbbV9Lj2EWGBeDmDb+Q6TfQPOcJhbYCCQ4yU",
  "iv": "sSThrtDojd6SgmfA9dV3Zg\u003d\u003d",
  "nonce": {
    "base64Random": "hR95o2wyHGg",
    "timestamp": 1735562240778
  },
  "hmac": "wkwZchWQEx+1o4kxRTar9fF2d1QXgnq+WoewmXof7nU\u003d",
  "reqId": "1735562240788"
}
2024-12-30T12:37:20.791Z  INFO 89061 --- [WebSocketConnectReadThread-22] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-30T12:37:20.893Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-30T12:37:20.893Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-30T12:37:20.893Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: wkwZchWQEx+1o4kxRTar9fF2d1QXgnq+WoewmXof7nU=
2024-12-30T12:37:20.893Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: wkwZchWQEx+1o4kxRTar9fF2d1QXgnq+WoewmXof7nU=
2024-12-30T12:37:20.894Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-30T12:37:20.894Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-30T12:37:20.894Z  INFO 89061 --- [WebSocketConnectReadThread-22] sirs.carserver.service.UserService       : Successfully updated the config
2024-12-30T12:37:20.894Z  INFO 89061 --- [WebSocketConnectReadThread-22] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-30T12:50:40.085Z  INFO 89061 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-30T12:50:40.086Z  INFO 89061 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-30T12:50:40.086Z  INFO 89061 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-30T12:50:40.086Z  INFO 89061 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-30T12:50:40.086Z  INFO 89061 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-30T12:50:40.086Z  INFO 89061 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-30T12:50:40.089Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T12:50:40.089Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735563040087",
  "operation": "initpair-response",
  "success": true
}
2024-12-30T12:50:44.869Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T12:50:44.869Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "test",
  "code": "9uNgM47BgECbMzHHPT5/s/gHEXqlhLyskE7EgwDkQH8\u003d",
  "success": true,
  "nonce": {
    "base64Random": "m7or2Q9Zf4A",
    "timestamp": 1735563044829
  }
}
2024-12-30T12:50:44.870Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-30T12:50:44.870Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-30T12:50:44.870Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Pairing code: 9uNgM47BgECbMzHHPT5/s/gHEXqlhLyskE7EgwDkQH8=
2024-12-30T12:50:44.871Z  INFO 89061 --- [WebSocketConnectReadThread-22] sirs.carserver.service.KeyStoreService   : Storing new key in keystore...
2024-12-30T12:50:44.899Z  INFO 89061 --- [WebSocketConnectReadThread-22] sirs.carserver.service.KeyStoreService   : New key stored in keystore successfully.
2024-12-30T12:50:44.900Z  INFO 89061 --- [WebSocketConnectReadThread-22] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-30T12:50:44.912Z  INFO 89061 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-30T12:50:44.912Z  INFO 89061 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-30T12:50:44.913Z  INFO 89061 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-30T12:50:44.913Z  INFO 89061 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-30T12:50:44.913Z  INFO 89061 --- [WebSocketConnectReadThread-22] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-30T12:50:44.917Z  INFO 89061 --- [WebSocketConnectReadThread-22] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-30T12:51:15.150Z  INFO 89061 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating the IV...
2024-12-30T12:51:15.151Z  INFO 89061 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Ciphering the content...
2024-12-30T12:51:15.151Z  INFO 89061 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the ciphered content and IV to the JSON object...
2024-12-30T12:51:15.151Z  INFO 89061 --- [main] pt.tecnico.sirs.util.SecurityUtil        : Generating nonce...
2024-12-30T12:51:15.151Z  INFO 89061 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Generating HMAC...
2024-12-30T12:51:15.151Z  INFO 89061 --- [main] p.t.sirs.secure.ProtectedObjectBuilder   : Adding the HMAC to the JSON object...
2024-12-30T12:51:15.154Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T12:51:15.154Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "reqId": "1735563075152",
  "operation": "initpair-response",
  "success": true
}
2024-12-30T12:51:19.729Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T12:51:19.730Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "test",
  "code": "IPE/vPuJf/0JMUPAhXzFeGd+9M3FpeQ3TRNKzB7hE7A\u003d",
  "success": false,
  "nonce": {
    "base64Random": "0ntpJlmtfPQ",
    "timestamp": 1735563079721
  }
}
2024-12-30T12:51:19.730Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.util.SecurityUtil        : Hashing data...
2024-12-30T12:51:19.730Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-30T12:51:19.730Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Pair failed: Server code matches: true | User input matches: false | Nonce valid: true
2024-12-30T12:51:32.001Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T12:51:32.001Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "updateconfig",
  "userId": "test",
  "content": "T94kc2u5n4CHpYr7OHQUx5mDV7hDlMwHXgwwvknnQ7Pr6xW7JZUNEY28jtyStfXhKl5uffAdnRAQNStnbILU0jtOVHWgL8buFkPi/uWDcYFpFId0AHpYKpEHwQL8WIZ8",
  "iv": "SUTO3KX6XRA8kpnAE+kLDw\u003d\u003d",
  "nonce": {
    "base64Random": "ErPdIXxCydY",
    "timestamp": 1735563091974
  },
  "hmac": "Hc6qF2dFB+PiWBLC/iDpjXL46ekyfNnHRdpMg2Jvdu0\u003d",
  "reqId": "1735563092000"
}
2024-12-30T12:51:32.002Z  INFO 89061 --- [WebSocketConnectReadThread-22] sirs.carserver.service.KeyStoreService   : Getting secret key from keystore...
2024-12-30T12:51:32.015Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.util.SecurityUtil        : Deciphering content...
2024-12-30T12:51:32.016Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.util.SecurityUtil        : Verifying HMAC...
2024-12-30T12:51:32.016Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.util.SecurityUtil        : Expected HMAC: Hc6qF2dFB+PiWBLC/iDpjXL46ekyfNnHRdpMg2Jvdu0=
2024-12-30T12:51:32.016Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.util.SecurityUtil        : Computed HMAC: Hc6qF2dFB+PiWBLC/iDpjXL46ekyfNnHRdpMg2Jvdu0=
2024-12-30T12:51:32.016Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-30T12:51:32.016Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.secdoc.Check             : Everything adds up! :D
2024-12-30T12:51:32.017Z  INFO 89061 --- [WebSocketConnectReadThread-22] sirs.carserver.service.UserService       : Successfully updated the config
2024-12-30T12:51:32.017Z  INFO 89061 --- [WebSocketConnectReadThread-22] sirs.carserver.service.UserService       : Adding auditMessage onto log file
2024-12-30T12:51:44.394Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Received message from server...
2024-12-30T12:51:44.395Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Processing message: {
  "operation": "pair",
  "userId": "test",
  "code": "IPE/vPuJf/0JMUPAhXzFeGd+9M3FpeQ3TRNKzB7hE7A\u003d",
  "success": false,
  "nonce": {
    "base64Random": "lYX87sh0nRM",
    "timestamp": 1735563104385
  }
}
2024-12-30T12:51:44.395Z  INFO 89061 --- [WebSocketConnectReadThread-22] sirs.carserver.service.PairingService    : No active pairing session...
2024-12-30T12:51:44.395Z  INFO 89061 --- [WebSocketConnectReadThread-22] pt.tecnico.sirs.secdoc.Check             : Verifying nonce...
2024-12-30T12:51:44.396Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.c.service.MessageProcessorService      : Pair failed: Server code matches: false | User input matches: false | Nonce valid: true
2024-12-30T12:52:13.831Z  WARN 89061 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T12:52:13.831Z  INFO 89061 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-30T12:52:13.906Z  INFO 89061 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T12:52:13.913Z  INFO 89061 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-30T12:52:13.915Z  INFO 89061 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-30T13:05:43.682Z  INFO 92519 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17 with PID 92519 (/Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer/target/classes started by vascosilva in /Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer)
2024-12-30T13:05:43.685Z  INFO 92519 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-30T13:05:44.373Z  INFO 92519 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-30T13:05:44.451Z  INFO 92519 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 2 JPA repository interfaces.
2024-12-30T13:05:44.797Z  INFO 92519 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-30T13:05:44.854Z  INFO 92519 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-30T13:05:44.889Z  INFO 92519 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-30T13:05:45.179Z  INFO 92519 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-30T13:05:45.211Z  INFO 92519 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-30T13:05:45.716Z  INFO 92519 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@45b32dfe
2024-12-30T13:05:45.718Z  INFO 92519 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-30T13:05:45.758Z  INFO 92519 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-30T13:05:46.588Z  INFO 92519 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-30T13:05:46.622Z  INFO 92519 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T13:05:47.309Z  INFO 92519 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 4.173 seconds (process running for 4.582)
2024-12-30T13:05:47.505Z  INFO 92519 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T13:07:17.012Z  INFO 92519 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T13:07:17.013Z  WARN 92519 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T13:07:17.013Z  INFO 92519 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-30T13:07:17.016Z  INFO 92519 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-30T13:07:17.019Z  INFO 92519 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-30T13:07:20.386Z  INFO 92703 --- [main] sirs.carserver.CarApplication            : Starting CarApplication using Java 17 with PID 92703 (/Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer/target/classes started by vascosilva in /Users/vascosilva/Documents/MEIC-1ºAno/SIRS/SIRS_MotorIST/CarServer)
2024-12-30T13:07:20.389Z  INFO 92703 --- [main] sirs.carserver.CarApplication            : No active profile set, falling back to 1 default profile: "default"
2024-12-30T13:07:21.258Z  INFO 92703 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-30T13:07:21.349Z  INFO 92703 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 79 ms. Found 2 JPA repository interfaces.
2024-12-30T13:07:21.933Z  INFO 92703 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-30T13:07:22.032Z  INFO 92703 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.3.Final
2024-12-30T13:07:22.099Z  INFO 92703 --- [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-30T13:07:22.546Z  INFO 92703 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-30T13:07:22.593Z  INFO 92703 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-30T13:07:23.313Z  INFO 92703 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@6cfbbff7
2024-12-30T13:07:23.315Z  INFO 92703 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-30T13:07:23.374Z  INFO 92703 --- [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 3.47
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-30T13:07:24.649Z  INFO 92703 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-30T13:07:24.708Z  INFO 92703 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T13:07:25.897Z ERROR 92703 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T13:07:25.898Z  INFO 92703 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Reconnecting in 1 seconds...
2024-12-30T13:07:25.899Z  WARN 92703 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Connection closed: Connection refused
2024-12-30T13:07:25.899Z  INFO 92703 --- [WebSocketConnectReadThread-22] s.carserver.config.CarWebSocketClient    : Reconnecting in 2 seconds...
2024-12-30T13:07:26.127Z  INFO 92703 --- [main] sirs.carserver.CarApplication            : Started CarApplication in 6.268 seconds (process running for 6.785)
2024-12-30T13:07:27.905Z  INFO 92703 --- [Timer-1] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T13:07:27.906Z ERROR 92703 --- [WebSocketConnectReadThread-26] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T13:07:27.907Z  INFO 92703 --- [WebSocketConnectReadThread-26] s.carserver.config.CarWebSocketClient    : Reconnecting in 3 seconds...
2024-12-30T13:07:27.907Z  WARN 92703 --- [WebSocketConnectReadThread-26] s.carserver.config.CarWebSocketClient    : Connection closed: Connection refused
2024-12-30T13:07:27.907Z  INFO 92703 --- [WebSocketConnectReadThread-26] s.carserver.config.CarWebSocketClient    : Reconnecting in 4 seconds...
2024-12-30T13:07:31.912Z  INFO 92703 --- [Timer-3] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T13:07:32.162Z  INFO 92703 --- [WebSocketConnectReadThread-29] s.carserver.config.CarWebSocketClient    : WebSocket connection opened...
2024-12-30T13:09:05.697Z  WARN 92703 --- [WebSocketConnectReadThread-29] s.carserver.config.CarWebSocketClient    : Connection closed: 
2024-12-30T13:09:05.697Z  INFO 92703 --- [WebSocketConnectReadThread-29] s.carserver.config.CarWebSocketClient    : Reconnecting in 5 seconds...
2024-12-30T13:09:10.703Z  INFO 92703 --- [Timer-4] s.carserver.config.CarWebSocketClient    : Attempting to reconnect...
2024-12-30T13:09:10.704Z ERROR 92703 --- [WebSocketConnectReadThread-33] s.carserver.config.CarWebSocketClient    : Error whilst connection was open: Connection refused
2024-12-30T13:09:10.705Z ERROR 92703 --- [WebSocketConnectReadThread-33] s.carserver.config.CarWebSocketClient    : Max reconnect attempts reached. Giving up and shutting down...
2024-12-30T13:09:10.709Z  INFO 92703 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-30T13:09:10.713Z  INFO 92703 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-30T13:09:10.717Z  INFO 92703 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
